<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VY1KE8NDD2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-VY1KE8NDD2');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ようこそ！衣織沼 ｜ ＝LOVE野口衣織 非公式沼落ちガイド</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <!-- OGP -->
    <meta property="og:title" content="ようこそ！衣織沼 ｜ ＝LOVE野口衣織 非公式沼落ちガイド">
    <meta property="og:description"
        content="「ちょっと気になる」を「生きてる理由君だらけ」に最速で変換する窓口。変幻自在のパフォーマンスからガハハ笑いまで、野口衣織の魅力を120%楽しむための索引サイト。全導線は公式動画へ直結！あなたの推し活を、もっと深く、楽しく。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://daiki100325.github.io/iori-fan-guide/">
    <meta property="og:image" content="https://daiki100325.github.io/iori-fan-guide/ogp.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="ja_JP">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ようこそ！衣織沼 ｜ ＝LOVE野口衣織 非公式沼落ちガイド">
    <meta name="twitter:description"
        content="「ちょっと気になる」を「生きてる理由君だらけ」に最速で変換する窓口。変幻自在のパフォーマンスからガハハ笑いまで、野口衣織の魅力を120%楽しむための索引サイト。全導線は公式動画へ直結！あなたの推し活を、もっと深く、楽しく。">
    <meta name="twitter:image" content="https://daiki100325.github.io/iori-fan-guide/ogp.jpg">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#9333ea', // purple-600
                        secondary: '#faf5ff', // purple-50
                    },
                    fontFamily: {
                        sans: ['"Zen Kaku Gothic New"', 'sans-serif'],
                        rounded: ['"M PLUS Rounded 1c"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Zen Kaku Gothic New', sans-serif;
            background-color: #f9fafb;
            /* gray-50 */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .scrollbar-hide {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const DATA = [
            {
                id: 1,
                title: "手遅れcaution (Live)",
                category: "ライブ",
                url: "https://www.youtube.com/watch?v=uMpEyaRmiy8",
                year: 2022,
                comment: "収録：全国ツアー「全部、内緒。」〜横浜アリーナ〜\n狂気と色気が混ざり合う圧巻のパフォーマンス。ラスサビの慟哭警報に注目。",
                tags: ["カッコいい"]
            },
            {
                id: 2,
                title: "呪って呪って (MV)",
                category: "MV",
                url: "https://www.youtube.com/watch?v=cyRZGtNx_a4&list=RDcyRZGtNx_a4&start_radio=1",
                year: 2024,
                comment: "ダークで美しい世界観。冷ややかな視線と妖艶な表情の変化に注目。",
                tags: ["カッコいい"]
            },
            {
                id: 3,
                title: "祝祭 (MV)",
                category: "MV",
                url: "https://youtu.be/m8WtzVPXxwU?si=qnAF4umO8LckzYQo",
                year: 2021,
                comment: "執事のような衣装に身をまとった演劇のようなナンバー。",
                tags: ["カッコいい"]
            },
            {
                id: 4,
                title: "狂想カタストロフィ (MV)",
                category: "MV",
                url: "https://youtu.be/RG_B3gfOzLo?si=8yZhPWzc-yind2uR",
                year: 2023,
                comment: "紛れもない狂気を表現する切なさと力強さが交じったパフォーマンス。裏テーマとして、全員が野口衣織の様々な側面を表現してるんだとか。",
                tags: ["カッコいい"]
            },
            {
                id: 5,
                title: "知らんけど (MV)",
                category: "MV",
                url: "https://youtu.be/IplzPaWoFXo?si=xA1bAwGRmYbhpZGF",
                year: 2022,
                comment: "野口・佐々木・諸橋のユニット曲。マイクスタンドを使った大人っぽいパフォーマンス。",
                tags: ["カッコいい"]
            },
            {
                id: 6,
                title: "Be Selfish (MV)",
                category: "MV",
                url: "https://youtu.be/suf7S4AKdmY?si=ovqD7qzqqqp5ugnl",
                year: 2022,
                comment: "韓国で撮影された色彩豊かなMV。自分らしく生きる肯定感をくれるポップな一曲。",
                tags: ["カッコいい"]
            },
            {
                id: 7,
                title: "Queens (MV)",
                category: "MV",
                url: "https://youtu.be/Pyts1pc0u1A?si=gpuDuYSsYoqgUtAM",
                year: 2025,
                comment: "齋藤樹愛羅とのデュエット。圧倒的な女王の風格。強くて美しいイコラブを象徴する、迫力あるダンスナンバー。",
                tags: ["カッコいい"]
            },
            {
                id: 8,
                title: "ナツマトペ (野口衣織Ver.) (MV)",
                category: "MV",
                url: "https://youtu.be/zMdTDUijeio?si=4PNeCTUaVHSItXmQ",
                year: 2023,
                comment: "夏全開の爽やかなソロMVバージョン。弾ける笑顔と多幸感溢れる映像を楽しめる。",
                tags: ["かわいい"]
            },
            {
                id: 9,
                title: "仲直りシュークリーム (MV)",
                category: "MV",
                url: "https://youtu.be/D0SfIi-0Zpo?si=Se2oLx6iQYZbEwJr",
                year: 2024,
                comment: "髙松瞳と野口衣織のダブルセンター曲。ダイナー風のセットに注目。",
                tags: ["かわいい"]
            },
            {
                id: 10,
                title: "君と私の歌 (MV)",
                category: "MV",
                url: "https://youtu.be/juImxVpogRY?si=mxGg_gnOLfdPYiEe",
                year: 2020,
                comment: "野口衣織の初ソロセンター曲。ファンへの愛が詰まったアイドルソング。真っ直ぐな歌声とキラキラした笑顔が魅力。",
                tags: ["アイドル"]
            },
            {
                id: 11,
                title: "超特急逃走中 (MV)",
                category: "MV",
                url: "https://youtu.be/d20dEAtbL08?si=GiLEFjjW8vS_hTy7",
                year: 2025,
                comment: "疾走感あふれるコミカルなMV。オタクとアイドルの一人二役が見ていて楽しい。",
                tags: ["アイドル"]
            },
            {
                id: 12,
                title: "ラブクリエイト (MV)",
                category: "MV",
                url: "https://youtu.be/11SXnMJKljk?si=EusjOrietc2ScOGI",
                year: 2023,
                comment: "みんながいいを体現した多幸感あふれるMV。メンバーと楽しそうに過ごす自然体な姿に癒やされる。",
                tags: ["アイドル"]
            },
            {
                id: 13,
                title: "この空がトリガー (MV)",
                category: "MV",
                url: "https://youtu.be/20QJax8CwQo?si=Zsj42lR8XPL5zFAE",
                year: 2023,
                comment: "切ない恋心を歌った王道ソング。爽やかなダンスと、憂いを帯びた表情の対比が美しい。",
                tags: ["アイドル"]
            },
            {
                id: 14,
                title: "拝啓 貴方様 (MV)",
                category: "MV",
                url: "https://youtu.be/PFBhWKdjBTQ?si=XL2ouwI30U52wGuF",
                year: 2021,
                comment: "昭和歌謡を思わせる初のソロ曲。妖艶さと激しさを併せ持つ独自の世界観。",
                tags: ["カッコいい"]
            },
            {
                id: 15,
                title: "手遅れcaution (MV)",
                category: "MV",
                url: "https://youtu.be/w0N0TiOlAY0?si=9DnrsXZ34xWE_apd",
                year: 2018,
                comment: "グループの幅を広げたダークな楽曲。狂気すら感じる表情と激しいダンスは衝撃的。",
                tags: ["カッコいい"]
            },
            {
                id: 16,
                title: "だからとて (MV)",
                category: "MV",
                url: "https://youtu.be/zKkx-rtOIPo?si=qIrKc-HXpx8HoM8d",
                year: 2023,
                comment: "アイドルとファンの交わらない世界線の矛盾を歌った名曲。「生きてる理由君だらけ」",
                tags: ["切ない"]
            },
            {
                id: 17,
                title: "虹の素 (MV)",
                category: "MV",
                url: "https://youtu.be/qoPqgiQVhok?si=FwsQg_N7YRlMv9xd",
                year: 2019,
                comment: "「いかりんぐ」デュエット。互いに背中を預け合い、歌唱力がぶつかり合うエモーショナルな一曲。",
                tags: ["切ない"]
            },
            {
                id: 18,
                title: "どこが好きか言って (MV)",
                category: "MV",
                url: "https://youtu.be/Mdsq8dUNvrI?si=oehnDwlNexZx2eH4",
                year: 2023,
                comment: "悲恋ソングの名曲。MV冒頭から切なさが満ちる。",
                tags: ["切ない"]
            },
            {
                id: 19,
                title: "好きって、言えなかった (MV)",
                category: "MV",
                url: "https://youtu.be/Jsz-Hzb4fyY?si=rGDASZWRsedK-CD9",
                year: 2022,
                comment: "青春の甘酸っぱさと痛みを描いたドラマ仕立てのMV。不器用な恋心を繊細に表現。",
                tags: ["切ない"]
            },
            {
                id: 20,
                title: "24/7 (MV)",
                category: "MV",
                url: "https://youtu.be/aEZJGY4_aQo?si=7QDkeQZn_3rMw7Xs",
                year: 2021,
                comment: "K-POPライクなダンスナンバー。キレのあるダンスとクールなラップが堪能できる。",
                tags: ["カッコいい"]
            },
            {
                id: 21,
                title: "だからとて (Live)",
                category: "ライブ",
                url: "https://youtu.be/khSDmjXGjkE",
                year: 2025,
                comment: "収録：ARENA TOUR 2025「〜Timeless Tales〜」\nファンとアイドルの交わらない世界の矛盾を正面から歌う。生歌ならではの熱量と震えるような歌声が響く。",
                tags: ["切ない"]
            },
            {
                id: 22,
                title: "超特急逃走中 (Live)",
                category: "ライブ",
                url: "https://youtu.be/NjQPFUVKMCQ",
                year: 2025,
                comment: "収録：ARENA TOUR 2025「〜Timeless Tales〜」\n話題になった「体幹チャレンジ」や会場全体への爆レスに注目。",
                tags: ["アイドル"]
            },
            {
                id: 23,
                title: "ラブクリエイト (Live)",
                category: "ライブ",
                url: "https://youtu.be/Ez3V5ipHdsI",
                year: 2025,
                comment: "収録：ARENA TOUR 2025「〜Timeless Tales〜」\nファンへの感謝が伝わるパフォーマンス。キラキラの笑顔で客席を指差す姿が印象的。",
                tags: ["アイドル"]
            },
            {
                id: 24,
                title: "仲直りシュークリーム (Live)",
                category: "ライブ",
                url: "https://youtu.be/1zGR6n1vlqs",
                year: 2025,
                comment: "収録：ARENA TOUR 2025「〜Timeless Tales〜」\n髙松瞳と野口衣織のダブルセンター曲。猫衣装にも注目。",
                tags: ["かわいい"]
            },
            {
                id: 25,
                title: "呪って呪って (Live)",
                category: "ライブ",
                url: "https://youtu.be/T8zqbIvO_9M?si=RiG_KaAQXLbxvN9_",
                year: 2024,
                comment: "収録：ARENA TOUR 2024「Tell me what's more than “LOVE”」\n気迫あふれるステージ。鋭い眼光と不敵な笑みが印象的。",
                tags: ["カッコいい"]
            },
            {
                id: 26,
                title: "狂想カタストロフィ (Live)",
                category: "ライブ",
                url: "https://youtu.be/bovO70Ml0gE",
                year: 2024,
                comment: "収録：ARENA TOUR 2024「Tell me what's more than “LOVE”」\nセンターステージでの孤高の舞。スポットライトを浴びた神々しい姿と絶叫に近い歌唱。",
                tags: ["カッコいい"]
            },
            {
                id: 27,
                title: "ナツマトペ (Live)",
                category: "ライブ",
                url: "https://youtu.be/J5M3vX9ioIU?si=qg9PbFS3MwxR2fpq",
                year: 2023,
                comment: "収録：6th ANNIVERSARY PREMIUM CONCERT\n夏フェスのような盛り上がり。",
                tags: ["かわいい"]
            },
            {
                id: 28,
                title: "祝祭 (Live)",
                category: "ライブ",
                url: "https://youtu.be/497KgIJTgSs",
                year: 2023,
                comment: "収録：6th ANNIVERSARY PREMIUM CONCERT\n仮面舞踏会のような妖しい雰囲気。執事役としての演劇的なパフォーマンスに魅了される。",
                tags: ["カッコいい"]
            },
            {
                id: 29,
                title: "君と私の歌 (Live)",
                category: "ライブ",
                url: "https://youtu.be/Vp-thQ5EtUE",
                year: 2023,
                comment: "収録：全国ツアー2023「Today is your Trigger」\n王道アイドルパフォーマンス。全身で歌う「見つけてくれてありがとう」に注目。",
                tags: ["アイドル"]
            },
            {
                id: 30,
                title: "ヒロインズ (Live)",
                category: "ライブ",
                url: "https://youtu.be/adDqIY7Xs-U?si=YTGpAu5TYMIwjR7-",
                year: 2023,
                comment: "収録：6th ANNIVERSARY PREMIUM CONCERT\nメンバー紹介ソング。「いーちゃんのこと好きって言って！」",
                tags: ["アイドル", "かわいい"]
            },
            {
                id: 31,
                title: "この空がトリガー (Live)",
                category: "ライブ",
                url: "https://youtu.be/vF8cxG05kcM?si=V-HYkWEv-7rCVtCI",
                year: 2023,
                comment: "収録：全国ツアー2023「Today is your Trigger」\n力強い歌声と繊細な表現力のコントラストが素晴らしい。",
                tags: ["アイドル"]
            },
            {
                id: 32,
                title: "まほろばアスタリスク (Live)",
                category: "ライブ",
                url: "https://youtu.be/HwSH_g2SaKo",
                year: 2022,
                comment: "収録：全国ツアー2022「どう考えても君ってイコラブのこと好きじゃん」\n失恋ソングの金字塔。切ない歌詞を感情豊かに歌い上げる。≠MEの名曲をいかりんぐがカバー。",
                tags: ["切ない"]
            },
            {
                id: 33,
                title: "Be Selfish (Live)",
                category: "ライブ",
                url: "https://youtu.be/vmd-luidsqo?si=X3Nhf8-KKd4UTe8v",
                year: 2022,
                comment: "収録：5th ANNIVERSARY PREMIUM CONCERT\n「自分らしくあれ」というメッセージが真っ直ぐ届く。",
                tags: ["カッコいい"]
            },
            {
                id: 34,
                title: "記憶のどこかで (Live)",
                category: "ライブ",
                url: "https://youtu.be/FCti36ZBQBU",
                year: 2021,
                comment: "収録：4th ANNIVERSARY PREMIUM CONCERT\n野口・諸橋のダブルセンター。二人の歌姫による圧巻の歌唱力。",
                tags: ["カッコいい"]
            },
            {
                id: 35,
                title: "フラジャイル (Live)",
                category: "ライブ",
                url: "https://youtu.be/0FFpW-dzTdY?si=r9nmfrw21cSeXYJg",
                year: 2021,
                comment: "収録：佐竹のん乃卒業コンサート〜君のいる世界〜\n卒業メンバーへの想いが溢れたステージ。寂しさと感謝が入り混じった表情に絆を感じる。",
                tags: ["切ない"]
            },
            {
                id: 36,
                title: "ベテルギウス (歌ってみた)",
                category: "歌ってみた",
                url: "https://youtu.be/fQrqvz3vhg0",
                year: 2023,
                comment: "優里の楽曲を原曲キーでカバー。驚異的な音域の広さと、力強く切ない歌声が響き渡る。",
                tags: ["切ない"]
            },
            {
                id: 37,
                title: "コネクト (歌ってみた)",
                category: "歌ってみた",
                url: "https://youtu.be/vCmOCkcC9g8",
                year: 2020,
                comment: "佐々木舞香とのユニット「いかりんぐ」によるカバー。二人の声質の相性とハモリが美しい。",
                tags: ["切ない"]
            },
            {
                id: 38,
                title: "夜に駆ける (歌ってみた)",
                category: "歌ってみた",
                url: "https://youtu.be/5pyY4YyQoXQ",
                year: 2020,
                comment: "YOASOBIの楽曲をソロカバー。難易度の高い曲を、疾走感を損なうことなく見事に歌い上げている。\nリズム感の良さと、言葉を畳み掛けるような歌唱が爽快。",
                tags: ["カッコいい"]
            },
            {
                id: 39,
                title: "うっせぇわ (歌ってみた)",
                category: "歌ってみた",
                url: "https://youtu.be/rMT4X8zR7qY",
                year: 2021,
                comment: "Adoの楽曲をカバー。がなり声やウィスパーボイスを使い分けた、憑依的な表現力に圧倒される。",
                tags: ["カッコいい"]
            },
            {
                id: 40,
                title: "惑星ループ (踊ってみた)",
                category: "踊ってみた",
                url: "https://youtu.be/28P2ZI-aweU",
                year: 2020,
                comment: "ナユタン星人の「惑星ループ」を山本杏奈とカバー。小さなリーダーと高身長組の衣織さんの凸凹コンビが可愛い。ずっと見ていたくなるような、中毒性の高いダンス動画。",
                tags: ["かわいい"]
            },
            {
                id: 41,
                title: "君と夏フェス (踊ってみた)",
                category: "踊ってみた",
                url: "https://youtu.be/mUizdXcxqeA",
                year: 2021,
                comment: "SHISHAMOの「君と夏フェス」をダンスカバー。",
                tags: ["かわいい", "アイドル"]
            },
            {
                id: 42,
                title: "Poison Girl (踊ってみた)",
                category: "踊ってみた",
                url: "https://youtu.be/YpC3v30V9Ac",
                year: 2021,
                comment: "みりにゃの個人チャンネルに野口衣織と山本杏奈が参戦。",
                tags: ["かわいい"]
            },
            {
                id: 43,
                title: "とくべチュ、して (Focus)",
                category: "フォーカス",
                url: "https://youtu.be/XzpKlwETET4?si=Is-F4hxspUdKfGrx",
                year: 2025,
                comment: "2025年5月20日公開。推しカメラで捉えた、特別でキュートなパフォーマンス。",
                tags: ["かわいい"]
            },
            {
                id: 44,
                title: "絶対アイドル辞めないで (Focus)",
                category: "フォーカス",
                url: "https://youtu.be/olmZqgAYUTk?si=Vyl4fJ9XmF8IAbDy",
                year: 2024,
                comment: "2024年7月20日公開。究極のアイドルソングをDance Focus Ver.で。",
                tags: ["アイドル"]
            },
            {
                id: 45,
                title: "この空がトリガー (Focus)",
                category: "フォーカス",
                url: "https://youtu.be/sCneQ9nzUpA?si=V62SZYf11RED-LdB",
                year: 2023,
                comment: "2023年2月1日公開。切ない表情とダンスの美しさが際立つDance Focus Ver.。",
                tags: ["アイドル"]
            },
            {
                id: 46,
                title: "呪って呪って (Dance MV)",
                category: "MV",
                url: "https://youtu.be/K-3LQ9A2ecY?si=g-Im8aSmDl7HiZHn",
                year: 2024,
                comment: "呪いダンスを堪能できるダンスバージョン。複雑なフォーメーション移動にも注目。全体の構成美と衣織さんのダンスの正確さが際立つ。",
                tags: ["カッコいい"]
            },
            {
                id: 47,
                title: "ナツマトペ (Dance MV)",
                category: "MV",
                url: "https://youtu.be/EDvT9fpHTQ4?si=OVV3acHa7gt8O-99",
                year: 2023,
                comment: "賑やかで楽しい振り付けが魅力。見ているだけで元気になれるダンスナンバー。",
                tags: ["かわいい"]
            },
            {
                id: 48,
                title: "この空がトリガー (Dance MV)",
                category: "MV",
                url: "https://youtu.be/ENs8yzQe7uk?si=uo8G7IlwQPXLI1Pp",
                year: 2023,
                comment: "繊細な感情表現をダンスで描写。歌詞の世界観を体現した振り付けと表情の余韻が美しい。",
                tags: ["アイドル"]
            },
            {
                id: 49,
                title: "Be Selfish (Dance MV)",
                category: "MV",
                url: "https://youtu.be/h-nR1fEnPJ4?si=_Ue9YLg5Q6Pykwk1",
                year: 2022,
                comment: "自由で自信に満ちたダンスパフォーマンス。私らしく生きる強さを表現。センターとして堂々と踊る衣織さんの姿に、勇気をもらえる。",
                tags: ["カッコいい"]
            }
        ];

        const CATEGORIES = ["すべて", "MV", "ライブ", "歌ってみた", "踊ってみた", "フォーカス", "バラエティ"];
        const TAGS = ["カッコいい", "かわいい", "アイドル", "切ない"];

        const getYouTubeId = (url) => {
            try {
                const urlObj = new URL(url);
                if (urlObj.hostname === "youtu.be") {
                    return urlObj.pathname.slice(1);
                }
                const v = urlObj.searchParams.get("v");
                if (v) return v;
                return null;
            } catch (e) {
                return null;
            }
        };

        // --- Components ---

        const ShareModal = ({ isOpen, onClose, type, watchedPercentage, kujiItem }) => {
            if (!isOpen) return null;
            const siteUrl = 'https://sukigamitsukaru.com/';

            // type: 'sns' | 'numaochi' | 'kuji' | 'kuji-exhausted'
            const isKuji = type === 'kuji';
            const isKujiExhausted = type === 'kuji-exhausted';
            const isSns = !isKuji && !isKujiExhausted && type !== 'numaochi';

            // くじシェアのツイート文
            const kujiTweetText = isKuji && kujiItem
                ? `#今日の衣織くじ は「${kujiItem.title}」でした。\n${kujiItem.url}\n\n#衣織沼\n\n今日のあなたの衣織は？ ${siteUrl}`
                : '';

            // 枯渇シェアのツイート文
            const exhaustedTweetText = isKujiExhausted
                ? `未視聴の衣織がなくなりました。\n沼の最深部に到達したらしい。\n\n#衣織沼\n${siteUrl}`
                : '';

            // SNSシェア：「ようこそ！ #衣織沼\nあなたの好きが見つかる\n\n{URL}」
            // 沼落ち度シェア：「沼落ち度：{n}%\nあなたの好きが見つかる\n\n{URL}\n\n#衣織沼」
            const tweetText = isSns
                ? `ようこそ！ #衣織沼\nあなたの好きが見つかる`
                : `沼落ち度：${watchedPercentage}%\nあなたの好きが見つかる`;
            const tweetSuffix = isSns
                ? ''
                : `\n\n#衣織沼`;
            const tweetUrl = isKuji
                ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(kujiTweetText)}`
                : isKujiExhausted
                    ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(exhaustedTweetText)}`
                    : isSns
                        ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}&url=${encodeURIComponent('\n' + siteUrl)}`
                        : `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText + '\n\n' + siteUrl + tweetSuffix)}`;

            // Preview display
            const previewMain = isKuji && kujiItem
                ? `#今日の衣織くじ は「${kujiItem.title}」でした。\n${kujiItem.url}`
                : isKujiExhausted
                    ? `未視聴の衣織がなくなりました。\n沼の最深部に到達したらしい。`
                    : isSns
                        ? `ようこそ！ #衣織沼\nあなたの好きが見つかる`
                        : `沼落ち度：${watchedPercentage}%\nあなたの好きが見つかる`;

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center pointer-events-none">
                    <div
                        className="absolute inset-0 bg-black/50 backdrop-blur-sm pointer-events-auto"
                        onClick={onClose}
                        style={{ animation: 'fadeIn 0.2s ease-out' }}
                    />
                    <div
                        className="relative bg-white rounded-3xl w-full max-w-sm mx-4 p-6 shadow-2xl pointer-events-auto"
                        style={{ animation: 'fadeIn 0.25s ease-out' }}
                    >
                        {/* Header */}
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-center gap-2">
                                <svg className="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                <span className="font-bold text-gray-800 text-sm">ツイートの確認</span>
                            </div>
                            <button onClick={onClose} className="text-gray-400 hover:text-gray-600 transition-colors">
                                <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>
                        {/* Tweet preview */}
                        <div className="bg-gray-50 rounded-2xl p-4 mb-3 border border-gray-100">
                            <p className="text-sm text-gray-800 leading-relaxed whitespace-pre-line">
                                {previewMain}
                            </p>
                            {isKuji ? (
                                <>
                                    <p className="text-sm text-gray-800 mt-3 whitespace-pre-line">{`\n#衣織沼\n\n今日のあなたの衣織は？`}</p>
                                    <p className="text-xs text-blue-500 mt-2 break-all">{siteUrl}</p>
                                </>
                            ) : isKujiExhausted ? (
                                <>
                                    <p className="text-sm text-gray-800 mt-3 whitespace-pre-line">{`\n#衣織沼`}</p>
                                    <p className="text-xs text-blue-500 mt-2 break-all">{siteUrl}</p>
                                </>
                            ) : (
                                <>
                                    <p className="text-xs text-blue-500 mt-3 break-all">{siteUrl}</p>
                                    {!isSns && (
                                        <p className="text-sm text-gray-800 mt-3">#衣織沼</p>
                                    )}
                                </>
                            )}
                        </div>
                        {/* Nudge */}
                        {isSns && (
                            <p className="text-center text-xs text-gray-400 mb-4">あなたの好きな衣織は？</p>
                        )}
                        {!isSns && !isKuji && !isKujiExhausted && <div className="mb-4" />}
                        {(isKuji || isKujiExhausted) && <div className="mb-4" />}
                        {/* Share button */}
                        <a
                            href={tweetUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            onClick={onClose}
                            className="flex items-center justify-center gap-2 w-full bg-black text-white font-bold py-3 rounded-2xl hover:opacity-80 transition-opacity text-sm"
                        >
                            <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                            Xでツイートする
                        </a>
                    </div>
                </div>
            );
        };

        const NavMenu = ({ activePage, setActivePage }) => {
            const menuItems = [
                {
                    id: 'home', label: '沼ガイド', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                        </svg>
                    )
                },
                {
                    id: 'kuji', label: '衣織くじ', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
                        </svg>
                    )
                },
                {
                    id: 'profile', label: '野口衣織とは？', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fillRule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clipRule="evenodd" />
                        </svg>
                    )
                },
                {
                    id: 'concept', label: 'サイトコンセプト', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
                        </svg>
                    )
                },
            ];

            return (
                <div className="bg-white/95 backdrop-blur-md border-t border-gray-200 flex justify-center fixed bottom-0 left-0 w-full z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] pb-safe transition-transform duration-300">
                    <div className="flex w-full max-w-md md:max-w-2xl justify-between px-2 pb-1">
                        {menuItems.map(item => (
                            <button
                                key={item.id}
                                onClick={() => setActivePage(item.id)}
                                className={`flex-1 flex flex-col items-center justify-center py-2 gap-1 transition-all duration-300 relative group active:scale-95 ${activePage === item.id ? 'text-primary' : 'text-gray-400 hover:text-gray-600'}`}
                            >
                                <div className={`p-1.5 rounded-full transition-all duration-300 ${activePage === item.id ? 'bg-primary/10 scale-110' : 'group-hover:bg-gray-50'}`}>
                                    {item.icon}
                                </div>
                                <span className={`text-[10px] font-bold ${activePage === item.id ? 'opacity-100' : 'opacity-70 group-hover:opacity-100'}`}>{item.label}</span>
                                {activePage === item.id && (
                                    <span className="absolute top-0 left-1/2 transform -translate-x-1/2 w-1/2 h-1 bg-primary rounded-b-full"></span>
                                )}
                            </button>
                        ))}
                    </div>
                </div>
            );
        };


        const Profile = () => {
            return (
                <div className="p-4 md:p-8 bg-gray-50/50 min-h-[500px]">
                    <div className="max-w-2xl mx-auto space-y-5 animate-[fadeIn_0.5s_ease-out]">

                        {/* ページヘッダー */}
                        <div className="text-center space-y-2 pt-2 pb-4">
                            <span className="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-bold rounded-full">PROFILE</span>
                            <h2 className="text-3xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800">野口 衣織 とは？</h2>
                            <p className="text-primary font-bold tracking-widest text-sm">NOGUCHI IORI</p>
                        </div>

                        {/* ── ブロック1: 基本プロフィール ── */}
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                            <div className="flex items-center gap-2.5 px-5 py-3.5 border-b border-gray-100">
                                <span className="w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-primary" viewBox="0 0 20 20" fill="currentColor">
                                        <path fillRule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clipRule="evenodd" />
                                    </svg>
                                </span>
                                <h3 className="text-sm font-bold text-gray-700">基本プロフィール</h3>
                            </div>
                            <div className="p-5 space-y-5">
                                <div className="bg-purple-50 p-4 rounded-xl text-center">
                                    <p className="text-base font-bold text-gray-800">指原莉乃プロデュースのアイドルグループ<br /><span className="text-primary text-lg">「＝LOVE」</span>のメンバー</p>
                                </div>

                                <div className="divide-y divide-gray-100">
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">生年月日</span>
                                        <span className="font-bold text-gray-700 text-sm">2000年4月26日</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">出身地</span>
                                        <span className="font-bold text-gray-700 text-sm">茨城県</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">血液型</span>
                                        <span className="font-bold text-gray-700 text-sm">O型</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">星座</span>
                                        <span className="font-bold text-gray-700 text-sm">おうし座</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">身長</span>
                                        <span className="font-bold text-gray-700 text-sm">161cm</span>
                                    </div>
                                </div>

                                <p className="text-right text-[11px] text-gray-400">（引用：＝LOVE Official Fan Club プロフィール）</p>
                            </div>
                        </div>

                        {/* ── ブロック2: 公式リンク ── */}
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                            <div className="flex items-center gap-2.5 px-5 py-3.5 border-b border-gray-100">
                                <span className="w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-primary" viewBox="0 0 20 20" fill="currentColor">
                                        <path fillRule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clipRule="evenodd" />
                                    </svg>
                                </span>
                                <h3 className="text-sm font-bold text-gray-700">公式リンク</h3>
                            </div>
                            <div className="p-5 space-y-3">

                                {/* 野口衣織 個人SNS */}
                                <div className="bg-gray-50 rounded-xl overflow-hidden">
                                    <p className="text-[11px] font-bold text-gray-400 px-4 pt-2.5 pb-1.5">野口衣織</p>
                                    <div className="divide-y divide-gray-100">
                                        <a href="https://x.com/noguchi_iori" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-black flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">X</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.instagram.com/noguchi_iori_/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">Instagram</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.showroom-live.com/room/profile?room_id=106016" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">Showroom</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                    </div>
                                </div>

                                {/* イコラブ公式 */}
                                <div className="bg-purple-50/60 rounded-xl overflow-hidden">
                                    <p className="text-[11px] font-bold text-primary/60 px-4 pt-2.5 pb-1.5">＝LOVE 公式</p>
                                    <div className="divide-y divide-purple-100/60">
                                        <a href="https://x.com/Equal_LOVE_12" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-black flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">X</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.instagram.com/equal_love.official/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">Instagram</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.tiktok.com/@equal_love_12" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-gray-900 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-2.88 2.5 2.89 2.89 0 01-2.89-2.89 2.89 2.89 0 012.89-2.89c.28 0 .54.04.79.1V9.01a6.33 6.33 0 00-.79-.05 6.34 6.34 0 00-6.34 6.34 6.34 6.34 0 006.34 6.34 6.34 6.34 0 006.33-6.34V8.73a8.28 8.28 0 004.84 1.55V6.84a4.85 4.85 0 01-1.07-.15z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">TikTok</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://equal-love.jp/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-primary flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 2a10 10 0 100 20A10 10 0 0012 2zm0 0c-2.5 2.5-3.9 5.8-4 9h8c-.1-3.2-1.5-6.5-4-9zm0 0c2.5 2.5 3.9 5.8 4 9m-8 0c.1 3.2 1.5 6.5 4 9m0 0c-2.5-2.5-3.9-5.8-4-9m8 0c-.1 3.2-1.5 6.5-4 9M2 12h20" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">公式HP</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.youtube.com/@equallove_" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-red-600 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">イコラブチャンネル</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                    </div>
                                </div>

                                {/* 関連チャンネル */}
                                <div className="bg-gray-50 rounded-xl overflow-hidden">
                                    <p className="text-[11px] font-bold text-gray-400 px-4 pt-2.5 pb-1.5">関連チャンネル</p>
                                    <div className="divide-y divide-gray-100">
                                        <a href="https://www.youtube.com/@ikonoijoy" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-red-600 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">イコノイジョイチャンネル</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                    </div>
                                </div>

                            </div>
                        </div>

                        {/* ── ブロック3: 衣織沼ポイント ── */}
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                            <div className="flex items-center gap-2.5 px-5 py-3.5 border-b border-gray-100">
                                <span className="w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-primary" viewBox="0 0 20 20" fill="currentColor">
                                        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
                                    </svg>
                                </span>
                                <h3 className="text-sm font-bold text-gray-700">衣織沼ポイント</h3>
                            </div>
                            <div className="p-5 space-y-0 divide-y divide-gray-100">
                                <div className="flex gap-3 py-4 first:pt-0">
                                    <span className="text-xl flex-shrink-0">🎤</span>
                                    <p className="text-sm text-gray-600 leading-relaxed">あらゆるジャンルの楽曲を歌いこなし踊りこなす、<span className="text-primary">努力型天才パフォーマー</span>。圧倒的な表現の幅を持ちます。</p>
                                </div>
                                <div className="flex gap-3 py-4">
                                    <span className="text-xl flex-shrink-0">✨</span>
                                    <p className="text-sm text-gray-600 leading-relaxed">パフォーマーの顔、二次元がないと生きていけない二次元オタクの顔、メンバーの前で見せるガハハ笑い…<span className="text-primary">見ていて飽きないギャップ</span>が最大の魅力。</p>
                                </div>
                                <div className="flex gap-3 py-4">
                                    <span className="text-xl flex-shrink-0">🌟</span>
                                    <p className="text-sm text-gray-600 leading-relaxed">アイドル活動に加え、<span className="text-primary">バラエティ出演やアニメ・ゲームでの声優としての出演</span>など、活躍の場はとどまるところを知りません。</p>
                                </div>
                                <div className="pt-4">
                                    <div className="bg-primary/5 rounded-xl p-4 text-center">
                                        <p className="text-sm font-bold text-primary">知れば知るほど抜け出せない<br className="sm:hidden" />「底なし沼」へようこそ。</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        // --- JST 日付文字列を返すユーティリティ ---
        const getJstDateString = () => {
            const now = new Date();
            // JST = UTC+9
            const jst = new Date(now.getTime() + 9 * 60 * 60 * 1000);
            return jst.toISOString().slice(0, 10); // 'YYYY-MM-DD'
        };

        const DailyKuji = ({ watchedIds, toggleWatched, isWatched }) => {
            // localStorage から当日の状態を復元
            const [drawnId, setDrawnId] = useState(() => {
                const savedDate = localStorage.getItem('kujiDate');
                const savedId = localStorage.getItem('kujiId');
                if (savedDate === getJstDateString() && savedId !== null) {
                    return parseInt(savedId, 10);
                }
                return null;
            });
            const [excludeWatched, setExcludeWatched] = useState(true);
            const [isKujiShareOpen, setIsKujiShareOpen] = useState(false);
            const [isExhausted, setIsExhausted] = useState(false);

            const alreadyDrawn = drawnId !== null;
            const drawnItem = alreadyDrawn ? DATA.find(d => d.id === drawnId) : null;

            const handleDraw = () => {
                // excludeWatched=true(デフォルト)のとき: 未視聴のみ抽選
                // excludeWatched=false(視聴済みを含むON)のとき: 全コンテンツから抽選
                let pool = excludeWatched
                    ? DATA.filter(d => !watchedIds.includes(d.id))
                    : DATA;
                // 未視聴モードで対象がなければエラー画面へ
                if (pool.length === 0) {
                    setIsExhausted(true);
                    return;
                }
                const picked = pool[Math.floor(Math.random() * pool.length)];
                setDrawnId(picked.id);
                localStorage.setItem('kujiDate', getJstDateString());
                localStorage.setItem('kujiId', String(picked.id));
            };

            const videoId = drawnItem ? getYouTubeId(drawnItem.url) : null;
            const thumbnailUrl = videoId ? `https://img.youtube.com/vi/${videoId}/hqdefault.jpg` : null;
            const watched = drawnItem ? isWatched(drawnItem.id) : false;

            return (
                <div className="p-4 md:p-8 bg-gray-50/50 min-h-[500px]">
                    <div className="max-w-2xl mx-auto animate-[fadeIn_0.5s_ease-out]">

                        {/* ページヘッダー */}
                        <div className="text-center space-y-2 pt-2 pb-6">
                            <span className="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-bold rounded-full">DAILY KUJI</span>
                            <h2 className="text-3xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800">今日の衣織くじ</h2>
                            <p className="text-sm text-gray-400">毎日１回、ランダムにコンテンツをご提案します</p>
                        </div>

                        {isExhausted ? (
                            /* ── 枯渇画面 ── */
                            <div className="flex flex-col items-center gap-5 animate-[fadeIn_0.5s_ease-out] py-8">
                                <div className="text-center space-y-3 px-4">
                                    <p className="text-2xl font-extrabold font-['M_PLUS_Rounded_1c'] text-primary">ようこそ、沼の最深部へ</p>
                                    <p className="text-sm text-gray-600 font-bold">もう未視聴の衣織がありません。</p>
                                    <p className="text-sm text-gray-600">おめでとうございます。</p>
                                    <p className="text-sm text-gray-600">ここから先は、愛でるだけです。</p>
                                </div>

                                {/* シェアボタン */}
                                <button
                                    onClick={() => setIsKujiShareOpen(true)}
                                    className="w-full max-w-xs flex items-center justify-center gap-2 py-2 rounded-xl border border-purple-300 text-purple-500 text-xs font-bold bg-purple-50 hover:bg-purple-100 hover:border-purple-400 transition-all duration-200 active:scale-95"
                                >
                                    <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                    結果をポスト
                                </button>

                                <ShareModal
                                    isOpen={isKujiShareOpen}
                                    onClose={() => setIsKujiShareOpen(false)}
                                    type="kuji-exhausted"
                                />
                            </div>
                        ) : !alreadyDrawn ? (
                            /* ── 未抽選：くじを引く画面 ── */
                            <div className="flex flex-col items-center gap-5">
                                {/* くじ演出アイコン */}
                                <div className="w-28 h-28 rounded-full bg-gradient-to-br from-purple-400 to-fuchsia-500 flex items-center justify-center shadow-xl animate-pulse">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-14 w-14 text-white" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
                                    </svg>
                                </div>

                                {/* くじを引くボタン */}
                                <button
                                    onClick={handleDraw}
                                    className="w-full max-w-xs bg-gradient-to-r from-purple-600 to-fuchsia-500 text-white font-extrabold text-lg py-5 rounded-2xl shadow-xl hover:shadow-purple-300 hover:scale-105 active:scale-95 transition-all duration-300"
                                >
                                    🎯 くじを引く
                                </button>

                                {/* 視聴済み除外オプション */}
                                <button
                                    onClick={() => setExcludeWatched(v => !v)}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold transition-all duration-200 border ${excludeWatched
                                        ? 'bg-white text-gray-400 border-gray-200 hover:border-gray-400'
                                        : 'bg-gray-800 text-white border-gray-800'
                                        }`}
                                >
                                    <span className={`w-3 h-3 rounded-full flex-shrink-0 transition-colors ${excludeWatched ? 'bg-gray-300' : 'bg-green-400'}`} />
                                    視聴済みを含む
                                </button>

                                <p className="text-xs text-gray-400 text-center leading-relaxed">
                                    衣織くじは１日１回引くことができます。<br />次のくじは明日 0:00 にリセットされます。
                                </p>
                            </div>
                        ) : (
                            /* ── 抽選済み：コンテンツ表示画面 ── */
                            <div className="flex flex-col gap-4">
                                <p className="text-center text-sm font-bold text-primary">✨ 今日の衣織はこちら！</p>

                                {drawnItem && (
                                    <div className={`group bg-white rounded-2xl border ${watched ? 'border-primary/30 bg-purple-50/30' : 'border-gray-100'
                                        } shadow-sm overflow-hidden`}>
                                        {thumbnailUrl && (
                                            <div className="relative aspect-video w-full overflow-hidden">
                                                <img
                                                    src={thumbnailUrl}
                                                    alt={drawnItem.title}
                                                    className={`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ${watched ? 'grayscale-[30%]' : ''}`}
                                                />
                                                <div className="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-300" />
                                                {watched && (
                                                    <div className="absolute top-2 right-2 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-md z-10 flex items-center gap-1">
                                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-3 w-3" viewBox="0 0 20 20" fill="currentColor">
                                                            <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                                        </svg>
                                                        視聴済み
                                                    </div>
                                                )}
                                            </div>
                                        )}
                                        <div className="p-6">
                                            <div className="flex items-center gap-2 mb-3">
                                                <span className={`text-[10px] font-bold px-3 py-1 rounded-full text-white uppercase tracking-wider ${drawnItem.category === 'MV' ? 'bg-gradient-to-r from-pink-500 to-rose-500' :
                                                    drawnItem.category === 'ライブ' ? 'bg-gradient-to-r from-blue-500 to-indigo-500' :
                                                        drawnItem.category === '歌ってみた' ? 'bg-gradient-to-r from-purple-500 to-violet-500' :
                                                            drawnItem.category === '踊ってみた' ? 'bg-gradient-to-r from-orange-500 to-amber-500' :
                                                                drawnItem.category === 'フォーカス' ? 'bg-gradient-to-r from-yellow-500 to-amber-500' :
                                                                    'bg-gray-500'
                                                    }`}>{drawnItem.category}</span>
                                                <span className="text-[10px] font-bold px-3 py-1 rounded-full text-gray-500 bg-gray-100 border border-gray-200">{drawnItem.year}年</span>
                                            </div>
                                            {drawnItem.tags && drawnItem.tags.length > 0 && (
                                                <div className="flex flex-wrap gap-1 mb-2">
                                                    {drawnItem.tags.map(tag => (
                                                        <span key={tag} className="text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md">#{tag}</span>
                                                    ))}
                                                </div>
                                            )}
                                            <h3 className={`text-xl font-bold mb-3 leading-tight ${watched ? 'text-gray-500' : 'text-gray-800'}`}>
                                                {drawnItem.title}
                                            </h3>
                                            <div className="relative mb-5">
                                                <div className={`absolute top-0 left-0 w-1 h-full rounded-full ${watched ? 'bg-gray-300' : 'bg-primary/30'}`} />
                                                <p className="text-sm text-gray-600 pl-4 py-1 italic leading-relaxed whitespace-pre-line">
                                                    {drawnItem.comment}
                                                </p>
                                            </div>
                                            <a
                                                href={drawnItem.url}
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                onClick={() => toggleWatched(drawnItem.id)}
                                                className={`block w-full text-center border-2 font-bold py-3 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 ${watched
                                                    ? 'bg-secondary border-primary/50 text-primary hover:bg-primary hover:text-white'
                                                    : 'bg-white border-primary text-primary hover:bg-primary hover:text-white'
                                                    }`}
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                                </svg>
                                                {watched ? 'もう一度見る' : '動画を見る'}
                                            </a>
                                        </div>
                                    </div>
                                )}

                                {/* シェアボタン */}
                                <button
                                    onClick={() => setIsKujiShareOpen(true)}
                                    className="w-full flex items-center justify-center gap-2 py-2 rounded-xl border border-purple-300 text-purple-500 text-xs font-bold bg-purple-50 hover:bg-purple-100 hover:border-purple-400 transition-all duration-200 active:scale-95"
                                >
                                    <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                    結果をポスト
                                </button>

                                {/* 説明文 */}
                                <div className="text-center pt-1 pb-6 space-y-1">
                                    <p className="text-xs text-gray-400 leading-relaxed">
                                        衣織くじは１日１回引くことができます。<br />次のくじは明日 0:00（JST）にリセットされます。
                                    </p>
                                </div>

                                <ShareModal
                                    isOpen={isKujiShareOpen}
                                    onClose={() => setIsKujiShareOpen(false)}
                                    type="kuji"
                                    kujiItem={drawnItem}
                                />
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const Concept = () => {
            return (
                <div className="p-6 md:p-10 bg-gray-50/50 min-h-[500px]">
                    <div className="max-w-3xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease-out]">

                        {/* ページヘッダー */}
                        <div className="text-center space-y-2 pt-2 pb-2">
                            <span className="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-bold rounded-full">CONCEPT</span>
                            <h2 className="text-3xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800">サイトコンセプト</h2>
                        </div>

                        {/* 1. 目的 */}
                        <div className="bg-white rounded-3xl p-8 shadow-sm border border-gray-100">
                            <h2 className="text-xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800 mb-4 flex items-center gap-2">
                                <span className="bg-primary/10 text-primary p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
                                    </svg>
                                </span>
                                サイトの目的
                            </h2>
                            <div className="space-y-4 text-gray-600 text-sm leading-7">
                                <p>
                                    多種多様な側面を持つ野口衣織さんに興味を持った方が、
                                    <strong className="text-primary">「自分が気になる野口衣織」</strong>に最短でアクセスできるようにすること。
                                </p>
                                <p>
                                    そして、既存のファンの方が、まだ彼女を知らない友人へ
                                    <strong className="text-primary">「布教」</strong>する際の手助けとなること。
                                </p>
                                <p>
                                    最終的には、このサイトを通じて公式コンテンツへのアクセスを促し、
                                    非公式ながらも<strong className="text-primary">「運営への貢献」</strong>に繋げることを目的としています。
                                </p>
                            </div>
                        </div>

                        {/* 2. 使い方 */}
                        <div className="bg-white rounded-3xl p-8 shadow-sm border border-gray-100">
                            <h2 className="text-xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800 mb-6 flex items-center gap-2">
                                <span className="bg-primary/10 text-primary p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                    </svg>
                                </span>
                                使い方
                            </h2>
                            <div className="grid gap-6 md:grid-cols-2">
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">1</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">ページを切り替える</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            画面下部のメニューから、「野口衣織とは？」や「サイトコンセプト」へ移動できます。
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">2</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">好みの衣織を探す</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            画面下の<span className="inline-block bg-gray-900 text-white text-[10px] px-2 py-0.5 rounded mx-1">絞り込み</span>ボタンを押すと、カテゴリーやタグで動画を検索できます。
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">3</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">とことん沼る</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            気になった動画を再生しましょう。YouTubeなど公式動画へのリンクになっています。
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">4</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">沼落ち度を上げる</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            再生した動画は自動で記録され、ヘッダーの「沼落ち度」ゲージが上昇します。100%を目指してください！
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">5</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">沼から抜け出せなくなる</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            もう戻れない。沼の底で管理人がたまに書いているnoteは<a href="https://note.com/io_tv/all" target="_blank" rel="noopener noreferrer" className="text-primary underline underline-offset-2 hover:opacity-70 transition-opacity">コチラ</a>。
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* 3. ポリシー */}
                        <div className="bg-white rounded-3xl p-8 shadow-sm border border-gray-100">
                            <h2 className="text-xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800 mb-4 flex items-center gap-2">
                                <span className="bg-primary/10 text-primary p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                                    </svg>
                                </span>
                                サイトポリシー
                            </h2>
                            <div className="space-y-4 text-gray-600 text-sm leading-7">
                                <div className="bg-gray-50 p-4 rounded-xl space-y-2">
                                    <h3 className="font-bold text-gray-700 text-xs">著作権の遵守</h3>
                                    <p className="text-xs">
                                        当サイトは非公式ファンサイトです。使用している画像の著作権・肖像権は各権利所有者に帰属します。
                                        権利を侵害する意図はありません。
                                        サイト内で使用する動画は、すべて公式YouTubeチャンネル等で公開されているものへのリンク（埋め込み）であり、違法アップロードされたコンテンツは取り扱いません。
                                    </p>
                                </div>
                                <div className="bg-gray-50 p-4 rounded-xl space-y-2">
                                    <h3 className="font-bold text-gray-700 text-xs">リンク集としての運営</h3>
                                    <p className="text-xs">
                                        当サイトはあくまでファンによる「ガイドマップ」です。
                                        動画の再生や詳細情報の確認は、必ず公式のプラットフォームで行われるように設計しています。
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const FilterModal = ({ isOpen, onClose, activeCategory, setActiveCategory, activeTag, setActiveTag, showUnwatchedOnly, setShowUnwatchedOnly, sortOrder, setSortOrder }) => {
            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-50 flex items-end justify-center pointer-events-none">
                    {/* Backdrop */}
                    <div
                        className="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 pointer-events-auto"
                        onClick={onClose}
                        style={{ animation: 'fadeIn 0.3s ease-out' }}
                    ></div>

                    {/* Bottom Sheet */}
                    <div
                        className="bg-white rounded-t-3xl w-full max-w-md md:max-w-2xl p-6 shadow-2xl transform transition-transform duration-300 pointer-events-auto overflow-y-auto max-h-[85vh] animate-[slideUp_0.3s_ease-out]"
                        onClick={e => e.stopPropagation()}
                    >
                        <div className="w-12 h-1.5 bg-gray-200 rounded-full mx-auto mb-6"></div>

                        <div className="space-y-6">
                            {/* Categories */}
                            <div>
                                <h3 className="text-sm font-bold text-gray-400 mb-3">カテゴリー</h3>
                                <div className="flex flex-wrap gap-2">
                                    {CATEGORIES.map(cat => (
                                        <button
                                            key={cat}
                                            onClick={() => setActiveCategory(cat)}
                                            className={`px-4 py-2 rounded-full text-xs font-bold transition-all duration-200 ${activeCategory === cat
                                                ? "bg-primary text-white shadow-md ring-2 ring-primary ring-offset-1"
                                                : "bg-gray-100 text-gray-500 active:bg-gray-200"
                                                }`}
                                        >
                                            {cat}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Tags */}
                            <div>
                                <h3 className="text-sm font-bold text-gray-400 mb-3">タグ</h3>
                                <div className="flex flex-wrap gap-2">
                                    {TAGS.map(tag => (
                                        <button
                                            key={tag}
                                            onClick={() => setActiveTag(activeTag === tag ? null : tag)}
                                            className={`px-4 py-2 rounded-full text-xs font-bold transition-all duration-200 border ${activeTag === tag
                                                ? "bg-gray-800 text-white border-gray-800 shadow-md"
                                                : "bg-white text-gray-600 border-gray-200 active:bg-gray-50"
                                                }`}
                                        >
                                            <span className="mr-1">#</span>{tag}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="border-t border-gray-100 pt-6 flex flex-col gap-4">
                                {/* Unwatched */}
                                <button
                                    onClick={() => setShowUnwatchedOnly(!showUnwatchedOnly)}
                                    className={`w-full py-3 rounded-xl font-bold transition-all duration-200 border flex items-center justify-center gap-3 ${showUnwatchedOnly
                                        ? "bg-gray-800 text-white border-gray-800 shadow-md"
                                        : "bg-white text-gray-500 border-gray-200 active:bg-gray-50"
                                        }`}
                                >
                                    <span className={`w-3 h-3 rounded-full ${showUnwatchedOnly ? 'bg-green-400' : 'bg-gray-300'}`}></span>
                                    未視聴のみ表示する
                                </button>

                                {/* Sort */}
                                <div className="flex items-center justify-between bg-gray-50 p-1 rounded-xl">
                                    <button
                                        onClick={() => setSortOrder('desc')}
                                        className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${sortOrder === 'desc' ? 'bg-white text-primary shadow-sm' : 'text-gray-400'
                                            }`}
                                    >
                                        新しい順
                                    </button>
                                    <button
                                        onClick={() => setSortOrder('asc')}
                                        className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${sortOrder === 'asc' ? 'bg-white text-primary shadow-sm' : 'text-gray-400'
                                            }`}
                                    >
                                        古い順
                                    </button>
                                </div>
                            </div>

                            <button
                                onClick={onClose}
                                className="w-full bg-primary text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-transform"
                            >
                                閉じる
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const HomeContent = ({ data, activeCategory, setActiveCategory, activeTag, setActiveTag, showUnwatchedOnly, setShowUnwatchedOnly, sortOrder, setSortOrder, toggleWatched, isWatched }) => {
            const [isFilterOpen, setIsFilterOpen] = useState(false);

            // Filter active indicator
            const hasActiveFilters = activeCategory !== "すべて" || activeTag !== null || showUnwatchedOnly;

            return (
                <div className="relative min-h-[calc(100vh-200px)]">
                    {/* Content List */}
                    <main className="flex-1 p-4 md:p-6 bg-gray-50/50 pb-24">
                        {data.length > 0 ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                {data.map(item => {
                                    const videoId = getYouTubeId(item.url);
                                    const thumbnailUrl = videoId ? `https://img.youtube.com/vi/${videoId}/hqdefault.jpg` : null;
                                    const watched = isWatched(item.id);

                                    return (
                                        <div key={item.id} className={`group bg-white rounded-2xl border ${watched ? 'border-primary/30 bg-purple-50/30' : 'border-gray-100'} shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1 h-full flex flex-col`}>
                                            {thumbnailUrl && (
                                                <div className="relative aspect-video w-full overflow-hidden">
                                                    <img
                                                        src={thumbnailUrl}
                                                        alt={item.title}
                                                        className={`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ${watched ? 'grayscale-[30%]' : ''}`}
                                                    />
                                                    <div className="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-300"></div>
                                                    {watched && (
                                                        <div className="absolute top-2 right-2 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-md z-10 flex items-center gap-1">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-3 w-3" viewBox="0 0 20 20" fill="currentColor">
                                                                <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                                            </svg>
                                                            視聴済み
                                                        </div>
                                                    )}
                                                </div>
                                            )}
                                            <div className="p-6 flex flex-col flex-grow">
                                                <div className="flex items-center justify-between mb-3">
                                                    <div className="flex gap-2">
                                                        <span className={`text-[10px] font-bold px-3 py-1 rounded-full text-white uppercase tracking-wider ${item.category === 'MV' ? 'bg-gradient-to-r from-pink-500 to-rose-500' :
                                                            item.category === 'ライブ' ? 'bg-gradient-to-r from-blue-500 to-indigo-500' :
                                                                item.category === '歌ってみた' ? 'bg-gradient-to-r from-purple-500 to-violet-500' :
                                                                    item.category === '踊ってみた' ? 'bg-gradient-to-r from-orange-500 to-amber-500' :
                                                                        item.category === 'フォーカス' ? 'bg-gradient-to-r from-yellow-500 to-amber-500' :
                                                                            'bg-gray-500'
                                                            }`}>
                                                            {item.category}
                                                        </span>
                                                        <span className="text-[10px] font-bold px-3 py-1 rounded-full text-gray-500 bg-gray-100 border border-gray-200">
                                                            {item.year}年
                                                        </span>
                                                    </div>
                                                </div>

                                                {/* Tags */}
                                                {item.tags && item.tags.length > 0 && (
                                                    <div className="flex flex-wrap gap-1 mb-2">
                                                        {item.tags.map(tag => (
                                                            <span key={tag} className="text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md">
                                                                #{tag}
                                                            </span>
                                                        ))}
                                                    </div>
                                                )}

                                                <h3 className={`text-xl font-bold mb-3 leading-tight group-hover:text-primary transition-colors line-clamp-2 ${watched ? 'text-gray-500' : 'text-gray-800'}`}>
                                                    {item.title}
                                                </h3>
                                                <div className="relative mb-5 flex-grow">
                                                    <div className={`absolute top-0 left-0 w-1 h-full rounded-full ${watched ? 'bg-gray-300' : 'bg-primary/30'}`}></div>
                                                    <p className="text-sm text-gray-600 pl-4 py-1 italic leading-relaxed line-clamp-5">
                                                        {item.comment}
                                                    </p>
                                                </div>

                                                <a
                                                    href={item.url}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                    onClick={() => toggleWatched(item.id)}
                                                    className={`block w-full text-center border-2 font-bold py-3 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg mt-auto ${watched
                                                        ? "bg-secondary border-primary/50 text-primary hover:bg-primary hover:text-white"
                                                        : "bg-white border-primary text-primary hover:bg-primary hover:text-white"
                                                        }`}
                                                >
                                                    {watched ? (
                                                        <>
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                                            </svg>
                                                            もう一度見る
                                                        </>
                                                    ) : (
                                                        <>
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                                            </svg>
                                                            動画を見る
                                                        </>
                                                    )}
                                                </a>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        ) : (
                            <div className="text-center py-16 px-4">
                                <div className="bg-gray-50 rounded-full h-20 w-20 flex items-center justify-center mx-auto mb-4 text-gray-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                                    </svg>
                                </div>
                                <h3 className="text-lg font-bold text-gray-400 mb-1">コンテンツ準備中</h3>
                                <p className="text-sm text-gray-400">このカテゴリーのコンテンツは<br />まだありません</p>
                            </div>
                        )}
                    </main>

                    {/* FAB Button */}
                    <button
                        onClick={() => setIsFilterOpen(true)}
                        className={`fixed bottom-24 md:bottom-8 right-4 md:right-8 z-50 bg-gray-900 text-white rounded-full px-6 py-4 shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 flex items-center gap-2 whitespace-nowrap ${hasActiveFilters ? "ring-4 ring-primary ring-offset-2" : ""
                            }`}
                    >
                        {hasActiveFilters && (
                            <span className="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white"></span>
                        )}
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                        </svg>
                        <span className="font-bold text-sm">絞り込み</span>
                    </button>

                    <FilterModal
                        isOpen={isFilterOpen}
                        onClose={() => setIsFilterOpen(false)}
                        activeCategory={activeCategory}
                        setActiveCategory={setActiveCategory}
                        activeTag={activeTag}
                        setActiveTag={setActiveTag}
                        showUnwatchedOnly={showUnwatchedOnly}
                        setShowUnwatchedOnly={setShowUnwatchedOnly}
                        sortOrder={sortOrder}
                        setSortOrder={setSortOrder}
                    />
                </div>
            );
        };

        const App = () => {
            const [activePage, setActivePage] = useState("home"); // 'home' | 'profile' | 'concept'
            const [isShareOpen, setIsShareOpen] = useState(false);
            const [shareType, setShareType] = useState('sns'); // 'sns' | 'numaochi'

            // Gauge sticky logic
            const headerRef = useRef(null);
            const [gaugeFixed, setGaugeFixed] = useState(false);
            useEffect(() => {
                const onScroll = () => {
                    if (headerRef.current) {
                        setGaugeFixed(headerRef.current.getBoundingClientRect().bottom <= 0);
                    }
                };
                window.addEventListener('scroll', onScroll, { passive: true });
                return () => window.removeEventListener('scroll', onScroll);
            }, []);

            // Home State
            const [activeCategory, setActiveCategory] = useState("すべて");
            const [activeTag, setActiveTag] = useState(null);
            const [showUnwatchedOnly, setShowUnwatchedOnly] = useState(false);
            const [sortOrder, setSortOrder] = useState("desc");

            // Watched status state
            const [watchedIds, setWatchedIds] = useState(() => {
                const saved = localStorage.getItem('watchedIds');
                return saved ? JSON.parse(saved) : [];
            });

            const toggleWatched = (id) => {
                setWatchedIds(prev => {
                    if (!prev.includes(id)) {
                        const updated = [...prev, id];
                        localStorage.setItem('watchedIds', JSON.stringify(updated));
                        return updated;
                    }
                    return prev;
                });
            };

            const isWatched = (id) => watchedIds.includes(id);

            const watchedPercentage = Math.round((watchedIds.length / DATA.length) * 100);

            const filterByCategory = (item) => {
                if (activeCategory === "すべて") return true;
                return item.category === activeCategory;
            };

            const filterByTag = (item) => {
                if (!activeTag) return true;
                return item.tags && item.tags.includes(activeTag);
            };

            const filterByUnwatched = (item) => {
                if (!showUnwatchedOnly) return true;
                return !watchedIds.includes(item.id);
            };

            const filteredData = DATA
                .filter(filterByCategory)
                .filter(filterByTag)
                .filter(filterByUnwatched)
                .sort((a, b) => {
                    if (a.year !== b.year) {
                        return sortOrder === 'asc' ? a.year - b.year : b.year - a.year;
                    }
                    return a.title.localeCompare(b.title, 'ja');
                });

            return (
                <div className="min-h-screen bg-white w-full max-w-md md:max-w-7xl mx-auto shadow-2xl flex flex-col border-x border-gray-100 my-0 md:my-8 md:rounded-3xl transition-all duration-300">
                    {/* Header */}
                    <header ref={headerRef} className="bg-gradient-to-br from-purple-600 via-primary to-fuchsia-600 text-white px-4 pt-5 pb-8 shadow-lg z-10 relative overflow-hidden transition-all duration-500 md:rounded-t-3xl">
                        <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10 mix-blend-overlay"></div>
                        <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-t from-black/20 to-transparent"></div>

                        {/* Title block */}
                        <div className="relative z-10 flex flex-col items-center justify-center transform transition-transform hover:scale-105 duration-500">
                            <h1
                                className="text-3xl md:text-5xl font-extrabold tracking-widest drop-shadow-lg font-['M_PLUS_Rounded_1c'] mb-1 text-white cursor-pointer"
                                onClick={() => setActivePage('home')}
                            >
                                ようこそ！<span className="text-yellow-300">衣織沼</span>
                            </h1>
                            <p className="text-sm md:text-lg font-bold text-white/80 tracking-widest mb-3 drop-shadow">あなたの好きが見つかる</p>
                            <div className="inline-block relative">
                                <div className="absolute inset-0 bg-white/20 blur-lg rounded-full transform scale-110"></div>
                                <p className="relative text-xs md:text-sm font-bold tracking-widest text-white/90 bg-white/10 px-6 py-1.5 rounded-full backdrop-blur-md border border-white/20 shadow-sm">
                                    ＝LOVE 野口衣織 非公式沼落ちガイド
                                </p>
                            </div>
                        </div>


                    </header>

                    {/* Numaochi Gauge Bar — sticky (JS-controlled for cross-browser) */}
                    {gaugeFixed && <div className="h-6" />}
                    <button
                        onClick={() => { setShareType('numaochi'); setIsShareOpen(true); }}
                        className={`${gaugeFixed ? 'fixed top-0 left-0 right-0' : 'relative w-full'} z-40 h-6 overflow-hidden flex items-center active:opacity-80 transition-opacity`}
                        style={{ background: '#f3e8ff' }}
                        title="沼落ち度をシェア"
                    >
                        {/* Filled portion */}
                        <div
                            className="absolute left-0 top-0 h-full transition-all duration-1000 ease-out"
                            style={{ width: `${watchedPercentage}%`, background: '#c4b5fd' }}
                        />
                        {/* Label */}
                        <div className="relative z-10 flex items-center justify-between w-full px-3">
                            <span className="text-[11px] font-bold tracking-wider" style={{ color: '#581c87' }}>沼落ち度&nbsp;<span className="font-extrabold">{watchedPercentage}%</span></span>
                            <span className="text-sm" style={{ color: '#581c87' }}>↗</span>
                        </div>
                    </button>

                    <NavMenu activePage={activePage} setActivePage={setActivePage} />
                    <ShareModal isOpen={isShareOpen} onClose={() => setIsShareOpen(false)} type={shareType} watchedPercentage={watchedPercentage} />

                    <div className="flex-1 bg-gray-50/50">
                        {activePage === 'home' && (
                            <HomeContent
                                data={filteredData}
                                activeCategory={activeCategory}
                                setActiveCategory={setActiveCategory}
                                activeTag={activeTag}
                                setActiveTag={setActiveTag}
                                showUnwatchedOnly={showUnwatchedOnly}
                                setShowUnwatchedOnly={setShowUnwatchedOnly}
                                sortOrder={sortOrder}
                                setSortOrder={setSortOrder}
                                toggleWatched={toggleWatched}
                                isWatched={isWatched}
                            />
                        )}
                        {activePage === 'kuji' && <DailyKuji watchedIds={watchedIds} toggleWatched={toggleWatched} isWatched={isWatched} />}
                        {activePage === 'profile' && <Profile />}
                        {activePage === 'concept' && <Concept />}
                    </div>

                    {/* Footer */}
                    <footer className="p-6 pb-24 text-center text-[10px] text-gray-400 border-t border-gray-100 bg-gray-50 space-y-3 md:rounded-b-3xl">
                        <button
                            onClick={() => { setShareType('sns'); setIsShareOpen(true); }}
                            className="w-full flex items-center justify-center gap-2 py-2 rounded-xl border border-gray-300 text-gray-500 text-xs font-bold hover:bg-gray-100 hover:border-gray-400 transition-all duration-200 active:scale-95"
                        >
                            <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                            このサイトをXで紹介
                        </button>
                        <p>当サイトは=LOVEのファンによる非公式サイトであり、使用している動画・画像の権利は全て権利者様に帰属します。<br className="hidden md:inline" />問題がある場合は速やかに削除いたします。</p>
                        <p>© 2026 Iori Noguchi Unofficial Fan Guide</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>