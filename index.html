<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VY1KE8NDD2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-VY1KE8NDD2');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚ˆã†ã“ãï¼è¡£ç¹”æ²¼ ï½œ ï¼LOVEé‡å£è¡£ç¹” éå…¬å¼æ²¼è½ã¡ã‚¬ã‚¤ãƒ‰</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <!-- OGP -->
    <meta property="og:title" content="ã‚ˆã†ã“ãï¼è¡£ç¹”æ²¼ ï½œ ï¼LOVEé‡å£è¡£ç¹” éå…¬å¼æ²¼è½ã¡ã‚¬ã‚¤ãƒ‰">
    <meta property="og:description"
        content="ã€Œã¡ã‚‡ã£ã¨æ°—ã«ãªã‚‹ã€ã‚’ã€Œç”Ÿãã¦ã‚‹ç†ç”±å›ã ã‚‰ã‘ã€ã«æœ€é€Ÿã§å¤‰æ›ã™ã‚‹çª“å£ã€‚å¤‰å¹»è‡ªåœ¨ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‹ã‚‰ã‚¬ãƒãƒç¬‘ã„ã¾ã§ã€é‡å£è¡£ç¹”ã®é­…åŠ›ã‚’120%æ¥½ã—ã‚€ãŸã‚ã®ç´¢å¼•ã‚µã‚¤ãƒˆã€‚å…¨å°ç·šã¯å…¬å¼å‹•ç”»ã¸ç›´çµï¼ã‚ãªãŸã®æ¨ã—æ´»ã‚’ã€ã‚‚ã£ã¨æ·±ãã€æ¥½ã—ãã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://daiki100325.github.io/iori-fan-guide/">
    <meta property="og:image" content="https://daiki100325.github.io/iori-fan-guide/ogp.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="ja_JP">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ã‚ˆã†ã“ãï¼è¡£ç¹”æ²¼ ï½œ ï¼LOVEé‡å£è¡£ç¹” éå…¬å¼æ²¼è½ã¡ã‚¬ã‚¤ãƒ‰">
    <meta name="twitter:description"
        content="ã€Œã¡ã‚‡ã£ã¨æ°—ã«ãªã‚‹ã€ã‚’ã€Œç”Ÿãã¦ã‚‹ç†ç”±å›ã ã‚‰ã‘ã€ã«æœ€é€Ÿã§å¤‰æ›ã™ã‚‹çª“å£ã€‚å¤‰å¹»è‡ªåœ¨ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‹ã‚‰ã‚¬ãƒãƒç¬‘ã„ã¾ã§ã€é‡å£è¡£ç¹”ã®é­…åŠ›ã‚’120%æ¥½ã—ã‚€ãŸã‚ã®ç´¢å¼•ã‚µã‚¤ãƒˆã€‚å…¨å°ç·šã¯å…¬å¼å‹•ç”»ã¸ç›´çµï¼ã‚ãªãŸã®æ¨ã—æ´»ã‚’ã€ã‚‚ã£ã¨æ·±ãã€æ¥½ã—ãã€‚">
    <meta name="twitter:image" content="https://daiki100325.github.io/iori-fan-guide/ogp.jpg">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#9333ea', // purple-600
                        secondary: '#faf5ff', // purple-50
                    },
                    fontFamily: {
                        sans: ['"Zen Kaku Gothic New"', 'sans-serif'],
                        rounded: ['"M PLUS Rounded 1c"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Zen Kaku Gothic New', sans-serif;
            background-color: #f9fafb;
            /* gray-50 */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .scrollbar-hide {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }

            to {
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const DATA = [
            {
                id: 1,
                title: "æ‰‹é…ã‚Œcaution (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://www.youtube.com/watch?v=uMpEyaRmiy8",
                year: 2022,
                comment: "åéŒ²ï¼šå…¨å›½ãƒ„ã‚¢ãƒ¼ã€Œå…¨éƒ¨ã€å†…ç·’ã€‚ã€ã€œæ¨ªæµœã‚¢ãƒªãƒ¼ãƒŠã€œ\nç‹‚æ°—ã¨è‰²æ°—ãŒæ··ã–ã‚Šåˆã†åœ§å·»ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚ãƒ©ã‚¹ã‚µãƒ“ã®æ…Ÿå“­è­¦å ±ã«æ³¨ç›®ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 2,
                title: "å‘ªã£ã¦å‘ªã£ã¦ (MV)",
                category: "MV",
                url: "https://www.youtube.com/watch?v=cyRZGtNx_a4&list=RDcyRZGtNx_a4&start_radio=1",
                year: 2024,
                comment: "ãƒ€ãƒ¼ã‚¯ã§ç¾ã—ã„ä¸–ç•Œè¦³ã€‚å†·ã‚„ã‚„ã‹ãªè¦–ç·šã¨å¦–è‰¶ãªè¡¨æƒ…ã®å¤‰åŒ–ã«æ³¨ç›®ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 3,
                title: "ç¥ç¥­ (MV)",
                category: "MV",
                url: "https://youtu.be/m8WtzVPXxwU?si=qnAF4umO8LckzYQo",
                year: 2021,
                comment: "åŸ·äº‹ã®ã‚ˆã†ãªè¡£è£…ã«èº«ã‚’ã¾ã¨ã£ãŸæ¼”åŠ‡ã®ã‚ˆã†ãªãƒŠãƒ³ãƒãƒ¼ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 4,
                title: "ç‹‚æƒ³ã‚«ã‚¿ã‚¹ãƒˆãƒ­ãƒ•ã‚£ (MV)",
                category: "MV",
                url: "https://youtu.be/RG_B3gfOzLo?si=8yZhPWzc-yind2uR",
                year: 2023,
                comment: "ç´›ã‚Œã‚‚ãªã„ç‹‚æ°—ã‚’è¡¨ç¾ã™ã‚‹åˆ‡ãªã•ã¨åŠ›å¼·ã•ãŒäº¤ã˜ã£ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚è£ãƒ†ãƒ¼ãƒã¨ã—ã¦ã€å…¨å“¡ãŒé‡å£è¡£ç¹”ã®æ§˜ã€…ãªå´é¢ã‚’è¡¨ç¾ã—ã¦ã‚‹ã‚“ã ã¨ã‹ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 5,
                title: "çŸ¥ã‚‰ã‚“ã‘ã© (MV)",
                category: "MV",
                url: "https://youtu.be/IplzPaWoFXo?si=xA1bAwGRmYbhpZGF",
                year: 2022,
                comment: "é‡å£ãƒ»ä½ã€…æœ¨ãƒ»è«¸æ©‹ã®ãƒ¦ãƒ‹ãƒƒãƒˆæ›²ã€‚ãƒã‚¤ã‚¯ã‚¹ã‚¿ãƒ³ãƒ‰ã‚’ä½¿ã£ãŸå¤§äººã£ã½ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 6,
                title: "Be Selfish (MV)",
                category: "MV",
                url: "https://youtu.be/suf7S4AKdmY?si=ovqD7qzqqqp5ugnl",
                year: 2022,
                comment: "éŸ“å›½ã§æ’®å½±ã•ã‚ŒãŸè‰²å½©è±Šã‹ãªMVã€‚è‡ªåˆ†ã‚‰ã—ãç”Ÿãã‚‹è‚¯å®šæ„Ÿã‚’ãã‚Œã‚‹ãƒãƒƒãƒ—ãªä¸€æ›²ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 7,
                title: "Queens (MV)",
                category: "MV",
                url: "https://youtu.be/Pyts1pc0u1A?si=gpuDuYSsYoqgUtAM",
                year: 2025,
                comment: "é½‹è—¤æ¨¹æ„›ç¾…ã¨ã®ãƒ‡ãƒ¥ã‚¨ãƒƒãƒˆã€‚åœ§å€’çš„ãªå¥³ç‹ã®é¢¨æ ¼ã€‚å¼·ãã¦ç¾ã—ã„ã‚¤ã‚³ãƒ©ãƒ–ã‚’è±¡å¾´ã™ã‚‹ã€è¿«åŠ›ã‚ã‚‹ãƒ€ãƒ³ã‚¹ãƒŠãƒ³ãƒãƒ¼ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 8,
                title: "ãƒŠãƒ„ãƒãƒˆãƒš (é‡å£è¡£ç¹”Ver.) (MV)",
                category: "MV",
                url: "https://youtu.be/zMdTDUijeio?si=4PNeCTUaVHSItXmQ",
                year: 2023,
                comment: "å¤å…¨é–‹ã®çˆ½ã‚„ã‹ãªã‚½ãƒ­MVãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€‚å¼¾ã‘ã‚‹ç¬‘é¡”ã¨å¤šå¹¸æ„Ÿæº¢ã‚Œã‚‹æ˜ åƒã‚’æ¥½ã—ã‚ã‚‹ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 9,
                title: "ä»²ç›´ã‚Šã‚·ãƒ¥ãƒ¼ã‚¯ãƒªãƒ¼ãƒ  (MV)",
                category: "MV",
                url: "https://youtu.be/D0SfIi-0Zpo?si=Se2oLx6iQYZbEwJr",
                year: 2024,
                comment: "é«™æ¾ç³ã¨é‡å£è¡£ç¹”ã®ãƒ€ãƒ–ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼æ›²ã€‚ãƒ€ã‚¤ãƒŠãƒ¼é¢¨ã®ã‚»ãƒƒãƒˆã«æ³¨ç›®ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 10,
                title: "å›ã¨ç§ã®æ­Œ (MV)",
                category: "MV",
                url: "https://youtu.be/juImxVpogRY?si=mxGg_gnOLfdPYiEe",
                year: 2020,
                comment: "é‡å£è¡£ç¹”ã®åˆã‚½ãƒ­ã‚»ãƒ³ã‚¿ãƒ¼æ›²ã€‚ãƒ•ã‚¡ãƒ³ã¸ã®æ„›ãŒè©°ã¾ã£ãŸã‚¢ã‚¤ãƒ‰ãƒ«ã‚½ãƒ³ã‚°ã€‚çœŸã£ç›´ããªæ­Œå£°ã¨ã‚­ãƒ©ã‚­ãƒ©ã—ãŸç¬‘é¡”ãŒé­…åŠ›ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 11,
                title: "è¶…ç‰¹æ€¥é€ƒèµ°ä¸­ (MV)",
                category: "MV",
                url: "https://youtu.be/d20dEAtbL08?si=GiLEFjjW8vS_hTy7",
                year: 2025,
                comment: "ç–¾èµ°æ„Ÿã‚ãµã‚Œã‚‹ã‚³ãƒŸã‚«ãƒ«ãªMVã€‚ã‚ªã‚¿ã‚¯ã¨ã‚¢ã‚¤ãƒ‰ãƒ«ã®ä¸€äººäºŒå½¹ãŒè¦‹ã¦ã„ã¦æ¥½ã—ã„ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 12,
                title: "ãƒ©ãƒ–ã‚¯ãƒªã‚¨ã‚¤ãƒˆ (MV)",
                category: "MV",
                url: "https://youtu.be/11SXnMJKljk?si=EusjOrietc2ScOGI",
                year: 2023,
                comment: "ã¿ã‚“ãªãŒã„ã„ã‚’ä½“ç¾ã—ãŸå¤šå¹¸æ„Ÿã‚ãµã‚Œã‚‹MVã€‚ãƒ¡ãƒ³ãƒãƒ¼ã¨æ¥½ã—ãã†ã«éã”ã™è‡ªç„¶ä½“ãªå§¿ã«ç™’ã‚„ã•ã‚Œã‚‹ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 13,
                title: "ã“ã®ç©ºãŒãƒˆãƒªã‚¬ãƒ¼ (MV)",
                category: "MV",
                url: "https://youtu.be/20QJax8CwQo?si=Zsj42lR8XPL5zFAE",
                year: 2023,
                comment: "åˆ‡ãªã„æ‹å¿ƒã‚’æ­Œã£ãŸç‹é“ã‚½ãƒ³ã‚°ã€‚çˆ½ã‚„ã‹ãªãƒ€ãƒ³ã‚¹ã¨ã€æ†‚ã„ã‚’å¸¯ã³ãŸè¡¨æƒ…ã®å¯¾æ¯”ãŒç¾ã—ã„ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 14,
                title: "æ‹å•“ è²´æ–¹æ§˜ (MV)",
                category: "MV",
                url: "https://youtu.be/PFBhWKdjBTQ?si=XL2ouwI30U52wGuF",
                year: 2021,
                comment: "æ˜­å’Œæ­Œè¬¡ã‚’æ€ã‚ã›ã‚‹åˆã®ã‚½ãƒ­æ›²ã€‚å¦–è‰¶ã•ã¨æ¿€ã—ã•ã‚’ä½µã›æŒã¤ç‹¬è‡ªã®ä¸–ç•Œè¦³ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 15,
                title: "æ‰‹é…ã‚Œcaution (MV)",
                category: "MV",
                url: "https://youtu.be/w0N0TiOlAY0?si=9DnrsXZ34xWE_apd",
                year: 2018,
                comment: "ã‚°ãƒ«ãƒ¼ãƒ—ã®å¹…ã‚’åºƒã’ãŸãƒ€ãƒ¼ã‚¯ãªæ¥½æ›²ã€‚ç‹‚æ°—ã™ã‚‰æ„Ÿã˜ã‚‹è¡¨æƒ…ã¨æ¿€ã—ã„ãƒ€ãƒ³ã‚¹ã¯è¡æ’ƒçš„ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 16,
                title: "ã ã‹ã‚‰ã¨ã¦ (MV)",
                category: "MV",
                url: "https://youtu.be/zKkx-rtOIPo?si=qIrKc-HXpx8HoM8d",
                year: 2023,
                comment: "ã‚¢ã‚¤ãƒ‰ãƒ«ã¨ãƒ•ã‚¡ãƒ³ã®äº¤ã‚ã‚‰ãªã„ä¸–ç•Œç·šã®çŸ›ç›¾ã‚’æ­Œã£ãŸåæ›²ã€‚ã€Œç”Ÿãã¦ã‚‹ç†ç”±å›ã ã‚‰ã‘ã€",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 17,
                title: "è™¹ã®ç´  (MV)",
                category: "MV",
                url: "https://youtu.be/qoPqgiQVhok?si=FwsQg_N7YRlMv9xd",
                year: 2019,
                comment: "ã€Œã„ã‹ã‚Šã‚“ãã€ãƒ‡ãƒ¥ã‚¨ãƒƒãƒˆã€‚äº’ã„ã«èƒŒä¸­ã‚’é ã‘åˆã„ã€æ­Œå”±åŠ›ãŒã¶ã¤ã‹ã‚Šåˆã†ã‚¨ãƒ¢ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãªä¸€æ›²ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 18,
                title: "ã©ã“ãŒå¥½ãã‹è¨€ã£ã¦ (MV)",
                category: "MV",
                url: "https://youtu.be/Mdsq8dUNvrI?si=oehnDwlNexZx2eH4",
                year: 2023,
                comment: "æ‚²æ‹ã‚½ãƒ³ã‚°ã®åæ›²ã€‚MVå†’é ­ã‹ã‚‰åˆ‡ãªã•ãŒæº€ã¡ã‚‹ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 19,
                title: "å¥½ãã£ã¦ã€è¨€ãˆãªã‹ã£ãŸ (MV)",
                category: "MV",
                url: "https://youtu.be/Jsz-Hzb4fyY?si=rGDASZWRsedK-CD9",
                year: 2022,
                comment: "é’æ˜¥ã®ç”˜é…¸ã£ã±ã•ã¨ç—›ã¿ã‚’æã„ãŸãƒ‰ãƒ©ãƒä»•ç«‹ã¦ã®MVã€‚ä¸å™¨ç”¨ãªæ‹å¿ƒã‚’ç¹Šç´°ã«è¡¨ç¾ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 20,
                title: "24/7 (MV)",
                category: "MV",
                url: "https://youtu.be/aEZJGY4_aQo?si=7QDkeQZn_3rMw7Xs",
                year: 2021,
                comment: "K-POPãƒ©ã‚¤ã‚¯ãªãƒ€ãƒ³ã‚¹ãƒŠãƒ³ãƒãƒ¼ã€‚ã‚­ãƒ¬ã®ã‚ã‚‹ãƒ€ãƒ³ã‚¹ã¨ã‚¯ãƒ¼ãƒ«ãªãƒ©ãƒƒãƒ—ãŒå ªèƒ½ã§ãã‚‹ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 21,
                title: "ã ã‹ã‚‰ã¨ã¦ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/khSDmjXGjkE",
                year: 2025,
                comment: "åéŒ²ï¼šARENA TOUR 2025ã€Œã€œTimeless Talesã€œã€\nãƒ•ã‚¡ãƒ³ã¨ã‚¢ã‚¤ãƒ‰ãƒ«ã®äº¤ã‚ã‚‰ãªã„ä¸–ç•Œã®çŸ›ç›¾ã‚’æ­£é¢ã‹ã‚‰æ­Œã†ã€‚ç”Ÿæ­Œãªã‚‰ã§ã¯ã®ç†±é‡ã¨éœ‡ãˆã‚‹ã‚ˆã†ãªæ­Œå£°ãŒéŸ¿ãã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 22,
                title: "è¶…ç‰¹æ€¥é€ƒèµ°ä¸­ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/NjQPFUVKMCQ",
                year: 2025,
                comment: "åéŒ²ï¼šARENA TOUR 2025ã€Œã€œTimeless Talesã€œã€\nè©±é¡Œã«ãªã£ãŸã€Œä½“å¹¹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€ã‚„ä¼šå ´å…¨ä½“ã¸ã®çˆ†ãƒ¬ã‚¹ã«æ³¨ç›®ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 23,
                title: "ãƒ©ãƒ–ã‚¯ãƒªã‚¨ã‚¤ãƒˆ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/Ez3V5ipHdsI",
                year: 2025,
                comment: "åéŒ²ï¼šARENA TOUR 2025ã€Œã€œTimeless Talesã€œã€\nãƒ•ã‚¡ãƒ³ã¸ã®æ„Ÿè¬ãŒä¼ã‚ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚ã‚­ãƒ©ã‚­ãƒ©ã®ç¬‘é¡”ã§å®¢å¸­ã‚’æŒ‡å·®ã™å§¿ãŒå°è±¡çš„ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 24,
                title: "ä»²ç›´ã‚Šã‚·ãƒ¥ãƒ¼ã‚¯ãƒªãƒ¼ãƒ  (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/1zGR6n1vlqs",
                year: 2025,
                comment: "åéŒ²ï¼šARENA TOUR 2025ã€Œã€œTimeless Talesã€œã€\né«™æ¾ç³ã¨é‡å£è¡£ç¹”ã®ãƒ€ãƒ–ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼æ›²ã€‚çŒ«è¡£è£…ã«ã‚‚æ³¨ç›®ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 25,
                title: "å‘ªã£ã¦å‘ªã£ã¦ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/T8zqbIvO_9M?si=RiG_KaAQXLbxvN9_",
                year: 2024,
                comment: "åéŒ²ï¼šARENA TOUR 2024ã€ŒTell me what's more than â€œLOVEâ€ã€\næ°—è¿«ã‚ãµã‚Œã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸ã€‚é‹­ã„çœ¼å…‰ã¨ä¸æ•µãªç¬‘ã¿ãŒå°è±¡çš„ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 26,
                title: "ç‹‚æƒ³ã‚«ã‚¿ã‚¹ãƒˆãƒ­ãƒ•ã‚£ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/bovO70Ml0gE",
                year: 2024,
                comment: "åéŒ²ï¼šARENA TOUR 2024ã€ŒTell me what's more than â€œLOVEâ€ã€\nã‚»ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã®å­¤é«˜ã®èˆã€‚ã‚¹ãƒãƒƒãƒˆãƒ©ã‚¤ãƒˆã‚’æµ´ã³ãŸç¥ã€…ã—ã„å§¿ã¨çµ¶å«ã«è¿‘ã„æ­Œå”±ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 27,
                title: "ãƒŠãƒ„ãƒãƒˆãƒš (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/J5M3vX9ioIU?si=qg9PbFS3MwxR2fpq",
                year: 2023,
                comment: "åéŒ²ï¼š6th ANNIVERSARY PREMIUM CONCERT\nå¤ãƒ•ã‚§ã‚¹ã®ã‚ˆã†ãªç››ã‚Šä¸ŠãŒã‚Šã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 28,
                title: "ç¥ç¥­ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/497KgIJTgSs",
                year: 2023,
                comment: "åéŒ²ï¼š6th ANNIVERSARY PREMIUM CONCERT\nä»®é¢èˆè¸ä¼šã®ã‚ˆã†ãªå¦–ã—ã„é›°å›²æ°—ã€‚åŸ·äº‹å½¹ã¨ã—ã¦ã®æ¼”åŠ‡çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é­…äº†ã•ã‚Œã‚‹ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 29,
                title: "å›ã¨ç§ã®æ­Œ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/Vp-thQ5EtUE",
                year: 2023,
                comment: "åéŒ²ï¼šå…¨å›½ãƒ„ã‚¢ãƒ¼2023ã€ŒToday is your Triggerã€\nç‹é“ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚å…¨èº«ã§æ­Œã†ã€Œè¦‹ã¤ã‘ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€ã«æ³¨ç›®ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 30,
                title: "ãƒ’ãƒ­ã‚¤ãƒ³ã‚º (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/adDqIY7Xs-U?si=YTGpAu5TYMIwjR7-",
                year: 2023,
                comment: "åéŒ²ï¼š6th ANNIVERSARY PREMIUM CONCERT\nãƒ¡ãƒ³ãƒãƒ¼ç´¹ä»‹ã‚½ãƒ³ã‚°ã€‚ã€Œã„ãƒ¼ã¡ã‚ƒã‚“ã®ã“ã¨å¥½ãã£ã¦è¨€ã£ã¦ï¼ã€",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«", "ã‹ã‚ã„ã„"]
            },
            {
                id: 31,
                title: "ã“ã®ç©ºãŒãƒˆãƒªã‚¬ãƒ¼ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/vF8cxG05kcM?si=V-HYkWEv-7rCVtCI",
                year: 2023,
                comment: "åéŒ²ï¼šå…¨å›½ãƒ„ã‚¢ãƒ¼2023ã€ŒToday is your Triggerã€\nåŠ›å¼·ã„æ­Œå£°ã¨ç¹Šç´°ãªè¡¨ç¾åŠ›ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãŒç´ æ™´ã‚‰ã—ã„ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 32,
                title: "ã¾ã»ã‚ã°ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/HwSH_g2SaKo",
                year: 2022,
                comment: "åéŒ²ï¼šå…¨å›½ãƒ„ã‚¢ãƒ¼2022ã€Œã©ã†è€ƒãˆã¦ã‚‚å›ã£ã¦ã‚¤ã‚³ãƒ©ãƒ–ã®ã“ã¨å¥½ãã˜ã‚ƒã‚“ã€\nå¤±æ‹ã‚½ãƒ³ã‚°ã®é‡‘å­—å¡”ã€‚åˆ‡ãªã„æ­Œè©ã‚’æ„Ÿæƒ…è±Šã‹ã«æ­Œã„ä¸Šã’ã‚‹ã€‚â‰ MEã®åæ›²ã‚’ã„ã‹ã‚Šã‚“ããŒã‚«ãƒãƒ¼ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 33,
                title: "Be Selfish (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/vmd-luidsqo?si=X3Nhf8-KKd4UTe8v",
                year: 2022,
                comment: "åéŒ²ï¼š5th ANNIVERSARY PREMIUM CONCERT\nã€Œè‡ªåˆ†ã‚‰ã—ãã‚ã‚Œã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒçœŸã£ç›´ãå±Šãã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 34,
                title: "è¨˜æ†¶ã®ã©ã“ã‹ã§ (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/FCti36ZBQBU",
                year: 2021,
                comment: "åéŒ²ï¼š4th ANNIVERSARY PREMIUM CONCERT\né‡å£ãƒ»è«¸æ©‹ã®ãƒ€ãƒ–ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼ã€‚äºŒäººã®æ­Œå§«ã«ã‚ˆã‚‹åœ§å·»ã®æ­Œå”±åŠ›ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 35,
                title: "ãƒ•ãƒ©ã‚¸ãƒ£ã‚¤ãƒ« (Live)",
                category: "ãƒ©ã‚¤ãƒ–",
                url: "https://youtu.be/0FFpW-dzTdY?si=r9nmfrw21cSeXYJg",
                year: 2021,
                comment: "åéŒ²ï¼šä½ç«¹ã®ã‚“ä¹ƒå’æ¥­ã‚³ãƒ³ã‚µãƒ¼ãƒˆã€œå›ã®ã„ã‚‹ä¸–ç•Œã€œ\nå’æ¥­ãƒ¡ãƒ³ãƒãƒ¼ã¸ã®æƒ³ã„ãŒæº¢ã‚ŒãŸã‚¹ãƒ†ãƒ¼ã‚¸ã€‚å¯‚ã—ã•ã¨æ„Ÿè¬ãŒå…¥ã‚Šæ··ã˜ã£ãŸè¡¨æƒ…ã«çµ†ã‚’æ„Ÿã˜ã‚‹ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 36,
                title: "ãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹ (æ­Œã£ã¦ã¿ãŸ)",
                category: "æ­Œã£ã¦ã¿ãŸ",
                url: "https://youtu.be/fQrqvz3vhg0",
                year: 2023,
                comment: "å„ªé‡Œã®æ¥½æ›²ã‚’åŸæ›²ã‚­ãƒ¼ã§ã‚«ãƒãƒ¼ã€‚é©šç•°çš„ãªéŸ³åŸŸã®åºƒã•ã¨ã€åŠ›å¼·ãåˆ‡ãªã„æ­Œå£°ãŒéŸ¿ãæ¸¡ã‚‹ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 37,
                title: "ã‚³ãƒã‚¯ãƒˆ (æ­Œã£ã¦ã¿ãŸ)",
                category: "æ­Œã£ã¦ã¿ãŸ",
                url: "https://youtu.be/vCmOCkcC9g8",
                year: 2020,
                comment: "ä½ã€…æœ¨èˆé¦™ã¨ã®ãƒ¦ãƒ‹ãƒƒãƒˆã€Œã„ã‹ã‚Šã‚“ãã€ã«ã‚ˆã‚‹ã‚«ãƒãƒ¼ã€‚äºŒäººã®å£°è³ªã®ç›¸æ€§ã¨ãƒãƒ¢ãƒªãŒç¾ã—ã„ã€‚",
                tags: ["åˆ‡ãªã„"]
            },
            {
                id: 38,
                title: "å¤œã«é§†ã‘ã‚‹ (æ­Œã£ã¦ã¿ãŸ)",
                category: "æ­Œã£ã¦ã¿ãŸ",
                url: "https://youtu.be/5pyY4YyQoXQ",
                year: 2020,
                comment: "YOASOBIã®æ¥½æ›²ã‚’ã‚½ãƒ­ã‚«ãƒãƒ¼ã€‚é›£æ˜“åº¦ã®é«˜ã„æ›²ã‚’ã€ç–¾èµ°æ„Ÿã‚’æãªã†ã“ã¨ãªãè¦‹äº‹ã«æ­Œã„ä¸Šã’ã¦ã„ã‚‹ã€‚\nãƒªã‚ºãƒ æ„Ÿã®è‰¯ã•ã¨ã€è¨€è‘‰ã‚’ç•³ã¿æ›ã‘ã‚‹ã‚ˆã†ãªæ­Œå”±ãŒçˆ½å¿«ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 39,
                title: "ã†ã£ã›ã‡ã‚ (æ­Œã£ã¦ã¿ãŸ)",
                category: "æ­Œã£ã¦ã¿ãŸ",
                url: "https://youtu.be/rMT4X8zR7qY",
                year: 2021,
                comment: "Adoã®æ¥½æ›²ã‚’ã‚«ãƒãƒ¼ã€‚ãŒãªã‚Šå£°ã‚„ã‚¦ã‚£ã‚¹ãƒ‘ãƒ¼ãƒœã‚¤ã‚¹ã‚’ä½¿ã„åˆ†ã‘ãŸã€æ†‘ä¾çš„ãªè¡¨ç¾åŠ›ã«åœ§å€’ã•ã‚Œã‚‹ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 40,
                title: "æƒ‘æ˜Ÿãƒ«ãƒ¼ãƒ— (è¸Šã£ã¦ã¿ãŸ)",
                category: "è¸Šã£ã¦ã¿ãŸ",
                url: "https://youtu.be/28P2ZI-aweU",
                year: 2020,
                comment: "ãƒŠãƒ¦ã‚¿ãƒ³æ˜Ÿäººã®ã€Œæƒ‘æ˜Ÿãƒ«ãƒ¼ãƒ—ã€ã‚’å±±æœ¬æå¥ˆã¨ã‚«ãƒãƒ¼ã€‚å°ã•ãªãƒªãƒ¼ãƒ€ãƒ¼ã¨é«˜èº«é•·çµ„ã®è¡£ç¹”ã•ã‚“ã®å‡¸å‡¹ã‚³ãƒ³ãƒ“ãŒå¯æ„›ã„ã€‚ãšã£ã¨è¦‹ã¦ã„ãŸããªã‚‹ã‚ˆã†ãªã€ä¸­æ¯’æ€§ã®é«˜ã„ãƒ€ãƒ³ã‚¹å‹•ç”»ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 41,
                title: "å›ã¨å¤ãƒ•ã‚§ã‚¹ (è¸Šã£ã¦ã¿ãŸ)",
                category: "è¸Šã£ã¦ã¿ãŸ",
                url: "https://youtu.be/mUizdXcxqeA",
                year: 2021,
                comment: "SHISHAMOã®ã€Œå›ã¨å¤ãƒ•ã‚§ã‚¹ã€ã‚’ãƒ€ãƒ³ã‚¹ã‚«ãƒãƒ¼ã€‚",
                tags: ["ã‹ã‚ã„ã„", "ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 42,
                title: "Poison Girl (è¸Šã£ã¦ã¿ãŸ)",
                category: "è¸Šã£ã¦ã¿ãŸ",
                url: "https://youtu.be/YpC3v30V9Ac",
                year: 2021,
                comment: "ã¿ã‚Šã«ã‚ƒã®å€‹äººãƒãƒ£ãƒ³ãƒãƒ«ã«é‡å£è¡£ç¹”ã¨å±±æœ¬æå¥ˆãŒå‚æˆ¦ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 43,
                title: "ã¨ãã¹ãƒãƒ¥ã€ã—ã¦ (Focus)",
                category: "ãƒ•ã‚©ãƒ¼ã‚«ã‚¹",
                url: "https://youtu.be/XzpKlwETET4?si=Is-F4hxspUdKfGrx",
                year: 2025,
                comment: "2025å¹´5æœˆ20æ—¥å…¬é–‹ã€‚æ¨ã—ã‚«ãƒ¡ãƒ©ã§æ‰ãˆãŸã€ç‰¹åˆ¥ã§ã‚­ãƒ¥ãƒ¼ãƒˆãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 44,
                title: "çµ¶å¯¾ã‚¢ã‚¤ãƒ‰ãƒ«è¾ã‚ãªã„ã§ (Focus)",
                category: "ãƒ•ã‚©ãƒ¼ã‚«ã‚¹",
                url: "https://youtu.be/olmZqgAYUTk?si=Vyl4fJ9XmF8IAbDy",
                year: 2024,
                comment: "2024å¹´7æœˆ20æ—¥å…¬é–‹ã€‚ç©¶æ¥µã®ã‚¢ã‚¤ãƒ‰ãƒ«ã‚½ãƒ³ã‚°ã‚’Dance Focus Ver.ã§ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 45,
                title: "ã“ã®ç©ºãŒãƒˆãƒªã‚¬ãƒ¼ (Focus)",
                category: "ãƒ•ã‚©ãƒ¼ã‚«ã‚¹",
                url: "https://youtu.be/sCneQ9nzUpA?si=V62SZYf11RED-LdB",
                year: 2023,
                comment: "2023å¹´2æœˆ1æ—¥å…¬é–‹ã€‚åˆ‡ãªã„è¡¨æƒ…ã¨ãƒ€ãƒ³ã‚¹ã®ç¾ã—ã•ãŒéš›ç«‹ã¤Dance Focus Ver.ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 46,
                title: "å‘ªã£ã¦å‘ªã£ã¦ (Dance MV)",
                category: "MV",
                url: "https://youtu.be/K-3LQ9A2ecY?si=g-Im8aSmDl7HiZHn",
                year: 2024,
                comment: "å‘ªã„ãƒ€ãƒ³ã‚¹ã‚’å ªèƒ½ã§ãã‚‹ãƒ€ãƒ³ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€‚è¤‡é›‘ãªãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç§»å‹•ã«ã‚‚æ³¨ç›®ã€‚å…¨ä½“ã®æ§‹æˆç¾ã¨è¡£ç¹”ã•ã‚“ã®ãƒ€ãƒ³ã‚¹ã®æ­£ç¢ºã•ãŒéš›ç«‹ã¤ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            },
            {
                id: 47,
                title: "ãƒŠãƒ„ãƒãƒˆãƒš (Dance MV)",
                category: "MV",
                url: "https://youtu.be/EDvT9fpHTQ4?si=OVV3acHa7gt8O-99",
                year: 2023,
                comment: "è³‘ã‚„ã‹ã§æ¥½ã—ã„æŒ¯ã‚Šä»˜ã‘ãŒé­…åŠ›ã€‚è¦‹ã¦ã„ã‚‹ã ã‘ã§å…ƒæ°—ã«ãªã‚Œã‚‹ãƒ€ãƒ³ã‚¹ãƒŠãƒ³ãƒãƒ¼ã€‚",
                tags: ["ã‹ã‚ã„ã„"]
            },
            {
                id: 48,
                title: "ã“ã®ç©ºãŒãƒˆãƒªã‚¬ãƒ¼ (Dance MV)",
                category: "MV",
                url: "https://youtu.be/ENs8yzQe7uk?si=uo8G7IlwQPXLI1Pp",
                year: 2023,
                comment: "ç¹Šç´°ãªæ„Ÿæƒ…è¡¨ç¾ã‚’ãƒ€ãƒ³ã‚¹ã§æå†™ã€‚æ­Œè©ã®ä¸–ç•Œè¦³ã‚’ä½“ç¾ã—ãŸæŒ¯ã‚Šä»˜ã‘ã¨è¡¨æƒ…ã®ä½™éŸ»ãŒç¾ã—ã„ã€‚",
                tags: ["ã‚¢ã‚¤ãƒ‰ãƒ«"]
            },
            {
                id: 49,
                title: "Be Selfish (Dance MV)",
                category: "MV",
                url: "https://youtu.be/h-nR1fEnPJ4?si=_Ue9YLg5Q6Pykwk1",
                year: 2022,
                comment: "è‡ªç”±ã§è‡ªä¿¡ã«æº€ã¡ãŸãƒ€ãƒ³ã‚¹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚ç§ã‚‰ã—ãç”Ÿãã‚‹å¼·ã•ã‚’è¡¨ç¾ã€‚ã‚»ãƒ³ã‚¿ãƒ¼ã¨ã—ã¦å ‚ã€…ã¨è¸Šã‚‹è¡£ç¹”ã•ã‚“ã®å§¿ã«ã€å‹‡æ°—ã‚’ã‚‚ã‚‰ãˆã‚‹ã€‚",
                tags: ["ã‚«ãƒƒã‚³ã„ã„"]
            }
        ];

        const CATEGORIES = ["ã™ã¹ã¦", "MV", "ãƒ©ã‚¤ãƒ–", "æ­Œã£ã¦ã¿ãŸ", "è¸Šã£ã¦ã¿ãŸ", "ãƒ•ã‚©ãƒ¼ã‚«ã‚¹", "ãƒãƒ©ã‚¨ãƒ†ã‚£"];
        const TAGS = ["ã‚«ãƒƒã‚³ã„ã„", "ã‹ã‚ã„ã„", "ã‚¢ã‚¤ãƒ‰ãƒ«", "åˆ‡ãªã„"];

        const getYouTubeId = (url) => {
            try {
                const urlObj = new URL(url);
                if (urlObj.hostname === "youtu.be") {
                    return urlObj.pathname.slice(1);
                }
                const v = urlObj.searchParams.get("v");
                if (v) return v;
                return null;
            } catch (e) {
                return null;
            }
        };

        // --- Components ---

        const GuidedTour = ({ isOpen, onClose }) => {
            if (!isOpen) return null;

            const [rects, setRects] = useState({ content: null, filter: null, kuji: null });

            const updateHighlights = () => {
                const content = document.getElementById('tour-first-card')?.getBoundingClientRect();
                const filter = document.getElementById('tour-filter-button')?.getBoundingClientRect();
                const kuji = document.getElementById('tour-nav-kuji')?.getBoundingClientRect();
                setRects({
                    content: content ? { top: content.top, left: content.left, width: content.width, height: content.height } : null,
                    filter: filter ? { top: filter.top, left: filter.left, width: filter.width, height: filter.height } : null,
                    kuji: kuji ? { top: kuji.top, left: kuji.left, width: kuji.width, height: kuji.height } : null
                });
            };

            useEffect(() => {
                updateHighlights();
                window.addEventListener('resize', updateHighlights);
                window.scrollTo({ top: 0, behavior: 'instant' });
                return () => window.removeEventListener('resize', updateHighlights);
            }, []);

            if (!rects.content || !rects.filter || !rects.kuji) return null;

            // ãƒ©ãƒ™ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå†…éƒ¨ç”¨ï¼‰
            const Label = ({ rect, text, icon, position = 'bottom', alignOffset = 0.5 }) => {
                const style = {};
                // ç”»é¢ç«¯ã‹ã‚‰ã®æœ€å°ä½™ç™½
                const margin = 16;
                const leftPos = rect.left + rect.width * alignOffset;

                if (position === 'bottom') {
                    style.top = rect.top + rect.height + 8;
                    style.left = `clamp(${margin}px, ${leftPos}px, calc(100vw - ${margin}px))`;
                } else if (position === 'top') {
                    style.bottom = window.innerHeight - rect.top + 8;
                    style.left = `clamp(${margin}px, ${leftPos}px, calc(100vw - ${margin}px))`;
                }

                return (
                    <div
                        className="absolute z-[110] -translate-x-1/2 flex flex-col items-center animate-[fadeIn_0.5s_ease-out] pointer-events-none"
                        style={style}
                    >
                        {position === 'bottom' && <div className="w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[6px] border-b-purple-200"></div>}
                        <div className="bg-purple-200 px-4 py-1.5 rounded-2xl shadow-2xl border border-purple-300 flex items-center gap-2.5 whitespace-nowrap overflow-hidden">
                            <span className="text-xl">{icon}</span>
                            <span className="text-sm font-black text-gray-800 tracking-tight">{text}</span>
                        </div>
                        {position === 'top' && <div className="w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-purple-200"></div>}
                    </div>
                );
            };

            return (
                <div className="fixed inset-0 z-[100] pointer-events-none">
                    {/* SVG Overlay for Multi-Spotlight */}
                    <svg className="absolute inset-0 w-full h-full pointer-events-auto">
                        <defs>
                            <mask id="multi-spotlight-mask">
                                <rect width="100%" height="100%" fill="white" />
                                <rect x={rects.content.left - 6} y={rects.content.top - 6} width={rects.content.width + 12} height={rects.content.height + 12} rx="16" fill="black" />
                                <rect x={rects.filter.left - 6} y={rects.filter.top - 6} width={rects.filter.width + 12} height={rects.filter.height + 12} rx="24" fill="black" />
                                <rect x={rects.kuji.left - 4} y={rects.kuji.top - 4} width={rects.kuji.width + 8} height={rects.kuji.height + 8} rx="12" fill="black" />
                            </mask>
                        </defs>
                        <rect width="100%" height="100%" fill="rgba(0,0,0,0.7)" mask="url(#multi-spotlight-mask)" onClick={onClose} />

                        {/* Highlights with borders */}
                        <rect x={rects.content.left - 6} y={rects.content.top - 6} width={rects.content.width + 12} height={rects.content.height + 12} rx="16" fill="none" stroke="white" strokeWidth="2" strokeDasharray="4 4" className="animate-[pulse_2s_infinite]" />
                        <rect x={rects.filter.left - 6} y={rects.filter.top - 6} width={rects.filter.width + 12} height={rects.filter.height + 12} rx="24" fill="none" stroke="white" strokeWidth="2" strokeDasharray="4 4" className="animate-[pulse_2s_infinite]" />
                        <rect x={rects.kuji.left - 4} y={rects.kuji.top - 4} width={rects.kuji.width + 8} height={rects.kuji.height + 8} rx="12" fill="none" stroke="white" strokeWidth="2" strokeDasharray="4 4" className="animate-[pulse_2s_infinite]" />
                    </svg>

                    {/* Finish Button: OK Button relocated to avoid overlap */}
                    <div
                        className="absolute z-[120] -translate-x-1/2 flex flex-col items-center pointer-events-none px-4"
                        style={{ bottom: window.innerHeight - rects.content.top + 70, left: "50%" }}
                    >
                        <button
                            onClick={onClose}
                            className="pointer-events-auto bg-primary text-white font-black px-12 py-3 rounded-3xl shadow-[0_20px_50px_rgba(147,51,234,0.4)] active:scale-95 transition-all text-xl md:text-3xl tracking-[0.2em] whitespace-nowrap min-w-[160px]"
                        >
                            OK
                        </button>
                    </div>

                    {/* Independent Labels */}
                    <Label
                        rect={rects.content}
                        icon="ğŸ¤"
                        text="è¡£ç¹”ã•ã‚“ç‰¹åŒ–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„"
                        position="top"
                    />

                    <Label
                        rect={rects.filter}
                        icon="ğŸ”"
                        text="ã‚¸ãƒ£ãƒ³ãƒ«ã§çµã‚Šè¾¼ã¿"
                        position="top"
                        alignOffset={0.25}
                    />

                    <Label
                        rect={rects.kuji}
                        icon="ğŸ¯"
                        text="ãƒ©ãƒ³ãƒ€ãƒ ãªè¡£ç¹”ã«å‡ºä¼šãˆã‚‹"
                        position="top"
                    />
                </div>
            );
        };

        const ShareModal = ({ isOpen, onClose, type, watchedPercentage, kujiItem }) => {
            if (!isOpen) return null;
            const siteUrl = 'https://sukigamitsukaru.com/';

            // type: 'sns' | 'numaochi' | 'kuji' | 'kuji-exhausted'
            const isKuji = type === 'kuji';
            const isKujiExhausted = type === 'kuji-exhausted';
            const isSns = !isKuji && !isKujiExhausted && type !== 'numaochi';

            // ãã˜ã‚·ã‚§ã‚¢ã®ãƒ„ã‚¤ãƒ¼ãƒˆæ–‡
            const kujiTweetText = isKuji && kujiItem
                ? `#ä»Šæ—¥ã®è¡£ç¹”ãã˜ ã¯ã€Œ${kujiItem.title}ã€ã§ã—ãŸã€‚\n${kujiItem.url}\n\n#è¡£ç¹”æ²¼\n\nä»Šæ—¥ã®ã‚ãªãŸã®è¡£ç¹”ã¯ï¼Ÿ ${siteUrl}`
                : '';

            // æ¯æ¸‡ã‚·ã‚§ã‚¢ã®ãƒ„ã‚¤ãƒ¼ãƒˆæ–‡
            const exhaustedTweetText = isKujiExhausted
                ? `æœªè¦–è´ã®è¡£ç¹”ãŒãªããªã‚Šã¾ã—ãŸã€‚\næ²¼ã®æœ€æ·±éƒ¨ã«åˆ°é”ã—ãŸã‚‰ã—ã„ã€‚\n\n#è¡£ç¹”æ²¼\n${siteUrl}`
                : '';

            // SNSã‚·ã‚§ã‚¢ï¼šã€Œã‚ˆã†ã“ãï¼ #è¡£ç¹”æ²¼\nã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹\n\n{URL}ã€
            // æ²¼è½ã¡åº¦ã‚·ã‚§ã‚¢ï¼šã€Œæ²¼è½ã¡åº¦ï¼š{n}%\nã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹\n\n{URL}\n\n#è¡£ç¹”æ²¼ã€
            const tweetText = isSns
                ? `ã‚ˆã†ã“ãï¼ #è¡£ç¹”æ²¼\nã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹`
                : `æ²¼è½ã¡åº¦ï¼š${watchedPercentage}%\nã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹`;
            const tweetSuffix = isSns
                ? ''
                : `\n\n#è¡£ç¹”æ²¼`;
            const tweetUrl = isKuji
                ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(kujiTweetText)}`
                : isKujiExhausted
                    ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(exhaustedTweetText)}`
                    : isSns
                        ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}&url=${encodeURIComponent('\n' + siteUrl)}`
                        : `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText + '\n\n' + siteUrl + tweetSuffix)}`;

            // Preview display
            const previewMain = isKuji && kujiItem
                ? `#ä»Šæ—¥ã®è¡£ç¹”ãã˜ ã¯ã€Œ${kujiItem.title}ã€ã§ã—ãŸã€‚\n${kujiItem.url}`
                : isKujiExhausted
                    ? `æœªè¦–è´ã®è¡£ç¹”ãŒãªããªã‚Šã¾ã—ãŸã€‚\næ²¼ã®æœ€æ·±éƒ¨ã«åˆ°é”ã—ãŸã‚‰ã—ã„ã€‚`
                    : isSns
                        ? `ã‚ˆã†ã“ãï¼ #è¡£ç¹”æ²¼\nã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹`
                        : `æ²¼è½ã¡åº¦ï¼š${watchedPercentage}%\nã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹`;

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center pointer-events-none">
                    <div
                        className="absolute inset-0 bg-black/50 backdrop-blur-sm pointer-events-auto"
                        onClick={onClose}
                        style={{ animation: 'fadeIn 0.2s ease-out' }}
                    />
                    <div
                        className="relative bg-white rounded-3xl w-full max-w-sm mx-4 p-6 shadow-2xl pointer-events-auto"
                        style={{ animation: 'fadeIn 0.25s ease-out' }}
                    >
                        {/* Header */}
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-center gap-2">
                                <svg className="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                <span className="font-bold text-gray-800 text-sm">ãƒ„ã‚¤ãƒ¼ãƒˆã®ç¢ºèª</span>
                            </div>
                            <button onClick={onClose} className="text-gray-400 hover:text-gray-600 transition-colors">
                                <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>
                        {/* Tweet preview */}
                        <div className="bg-gray-50 rounded-2xl p-4 mb-3 border border-gray-100">
                            <p className="text-sm text-gray-800 leading-relaxed whitespace-pre-line">
                                {previewMain}
                            </p>
                            {isKuji ? (
                                <>
                                    <p className="text-sm text-gray-800 mt-3 whitespace-pre-line">{`\n#è¡£ç¹”æ²¼\n\nä»Šæ—¥ã®ã‚ãªãŸã®è¡£ç¹”ã¯ï¼Ÿ`}</p>
                                    <p className="text-xs text-blue-500 mt-2 break-all">{siteUrl}</p>
                                </>
                            ) : isKujiExhausted ? (
                                <>
                                    <p className="text-sm text-gray-800 mt-3 whitespace-pre-line">{`\n#è¡£ç¹”æ²¼`}</p>
                                    <p className="text-xs text-blue-500 mt-2 break-all">{siteUrl}</p>
                                </>
                            ) : (
                                <>
                                    <p className="text-xs text-blue-500 mt-3 break-all">{siteUrl}</p>
                                    {!isSns && (
                                        <p className="text-sm text-gray-800 mt-3">#è¡£ç¹”æ²¼</p>
                                    )}
                                </>
                            )}
                        </div>
                        {/* Nudge */}
                        {isSns && (
                            <p className="text-center text-xs text-gray-400 mb-4">ã‚ãªãŸã®å¥½ããªè¡£ç¹”ã¯ï¼Ÿ</p>
                        )}
                        {!isSns && !isKuji && !isKujiExhausted && <div className="mb-4" />}
                        {(isKuji || isKujiExhausted) && <div className="mb-4" />}
                        {/* Share button */}
                        <a
                            href={tweetUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            onClick={onClose}
                            className="flex items-center justify-center gap-2 w-full bg-black text-white font-bold py-3 rounded-2xl hover:opacity-80 transition-opacity text-sm"
                        >
                            <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                            Xã§ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹
                        </a>
                    </div>
                </div>
            );
        };

        const NavMenu = ({ activePage, setActivePage }) => {
            const menuItems = [
                {
                    id: 'home', label: 'æ²¼ã‚¬ã‚¤ãƒ‰', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                        </svg>
                    )
                },
                {
                    id: 'kuji', label: 'è¡£ç¹”ãã˜', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
                        </svg>
                    )
                },
                {
                    id: 'profile', label: 'é‡å£è¡£ç¹”ã¨ã¯ï¼Ÿ', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fillRule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clipRule="evenodd" />
                        </svg>
                    )
                },
                {
                    id: 'concept', label: 'ã‚µã‚¤ãƒˆã‚³ãƒ³ã‚»ãƒ—ãƒˆ', icon: (
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
                        </svg>
                    )
                },
            ];

            return (
                <div className="bg-white/95 backdrop-blur-md border-t border-gray-200 flex justify-center fixed bottom-0 left-0 w-full z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] pb-safe transition-transform duration-300">
                    <div className="flex w-full max-w-md md:max-w-2xl justify-between px-2 pb-1">
                        {menuItems.map(item => (
                            <button
                                key={item.id}
                                id={item.id === 'kuji' ? 'tour-nav-kuji' : undefined}
                                onClick={() => setActivePage(item.id)}
                                className={`flex-1 flex flex-col items-center justify-center py-2 gap-1 transition-all duration-300 relative group active:scale-95 ${activePage === item.id ? 'text-primary' : 'text-gray-400 hover:text-gray-600'}`}
                            >
                                <div className={`p-1.5 rounded-full transition-all duration-300 ${activePage === item.id ? 'bg-primary/10 scale-110' : 'group-hover:bg-gray-50'}`}>
                                    {item.icon}
                                </div>
                                <span className={`text-[10px] font-bold ${activePage === item.id ? 'opacity-100' : 'opacity-70 group-hover:opacity-100'}`}>{item.label}</span>
                                {activePage === item.id && (
                                    <span className="absolute top-0 left-1/2 transform -translate-x-1/2 w-1/2 h-1 bg-primary rounded-b-full"></span>
                                )}
                            </button>
                        ))}
                    </div>
                </div>
            );
        };


        const Profile = () => {
            return (
                <div className="p-4 md:p-8 bg-gray-50/50 min-h-[500px]">
                    <div className="max-w-2xl mx-auto space-y-5 animate-[fadeIn_0.5s_ease-out]">

                        {/* ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ */}
                        <div className="text-center space-y-2 pt-2 pb-4">
                            <span className="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-bold rounded-full">PROFILE</span>
                            <h2 className="text-3xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800">é‡å£ è¡£ç¹” ã¨ã¯ï¼Ÿ</h2>
                            <p className="text-primary font-bold tracking-widest text-sm">NOGUCHI IORI</p>
                        </div>

                        {/* â”€â”€ ãƒ–ãƒ­ãƒƒã‚¯1: åŸºæœ¬ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« â”€â”€ */}
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                            <div className="flex items-center gap-2.5 px-5 py-3.5 border-b border-gray-100">
                                <span className="w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-primary" viewBox="0 0 20 20" fill="currentColor">
                                        <path fillRule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clipRule="evenodd" />
                                    </svg>
                                </span>
                                <h3 className="text-sm font-bold text-gray-700">åŸºæœ¬ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h3>
                            </div>
                            <div className="p-5 space-y-5">
                                <div className="bg-purple-50 p-4 rounded-xl text-center">
                                    <p className="text-base font-bold text-gray-800">æŒ‡åŸè‰ä¹ƒãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ã®ã‚¢ã‚¤ãƒ‰ãƒ«ã‚°ãƒ«ãƒ¼ãƒ—<br /><span className="text-primary text-lg">ã€Œï¼LOVEã€</span>ã®ãƒ¡ãƒ³ãƒãƒ¼</p>
                                </div>

                                <div className="divide-y divide-gray-100">
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">ç”Ÿå¹´æœˆæ—¥</span>
                                        <span className="font-bold text-gray-700 text-sm">2000å¹´4æœˆ26æ—¥</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">å‡ºèº«åœ°</span>
                                        <span className="font-bold text-gray-700 text-sm">èŒ¨åŸçœŒ</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">è¡€æ¶²å‹</span>
                                        <span className="font-bold text-gray-700 text-sm">Oå‹</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">æ˜Ÿåº§</span>
                                        <span className="font-bold text-gray-700 text-sm">ãŠã†ã—åº§</span>
                                    </div>
                                    <div className="flex py-2.5">
                                        <span className="w-20 text-gray-400 font-bold text-sm flex-shrink-0">èº«é•·</span>
                                        <span className="font-bold text-gray-700 text-sm">161cm</span>
                                    </div>
                                </div>

                                <p className="text-right text-[11px] text-gray-400">ï¼ˆå¼•ç”¨ï¼šï¼LOVE Official Fan Club ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼‰</p>
                            </div>
                        </div>

                        {/* â”€â”€ ãƒ–ãƒ­ãƒƒã‚¯2: å…¬å¼ãƒªãƒ³ã‚¯ â”€â”€ */}
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                            <div className="flex items-center gap-2.5 px-5 py-3.5 border-b border-gray-100">
                                <span className="w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-primary" viewBox="0 0 20 20" fill="currentColor">
                                        <path fillRule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clipRule="evenodd" />
                                    </svg>
                                </span>
                                <h3 className="text-sm font-bold text-gray-700">å…¬å¼ãƒªãƒ³ã‚¯</h3>
                            </div>
                            <div className="p-5 space-y-3">

                                {/* é‡å£è¡£ç¹” å€‹äººSNS */}
                                <div className="bg-gray-50 rounded-xl overflow-hidden">
                                    <p className="text-[11px] font-bold text-gray-400 px-4 pt-2.5 pb-1.5">é‡å£è¡£ç¹”</p>
                                    <div className="divide-y divide-gray-100">
                                        <a href="https://x.com/noguchi_iori" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-black flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">X</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.instagram.com/noguchi_iori_/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">Instagram</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.showroom-live.com/room/profile?room_id=106016" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">Showroom</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                    </div>
                                </div>

                                {/* ã‚¤ã‚³ãƒ©ãƒ–å…¬å¼ */}
                                <div className="bg-purple-50/60 rounded-xl overflow-hidden">
                                    <p className="text-[11px] font-bold text-primary/60 px-4 pt-2.5 pb-1.5">ï¼LOVE å…¬å¼</p>
                                    <div className="divide-y divide-purple-100/60">
                                        <a href="https://x.com/Equal_LOVE_12" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-black flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">X</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.instagram.com/equal_love.official/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">Instagram</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.tiktok.com/@equal_love_12" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-gray-900 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-2.88 2.5 2.89 2.89 0 01-2.89-2.89 2.89 2.89 0 012.89-2.89c.28 0 .54.04.79.1V9.01a6.33 6.33 0 00-.79-.05 6.34 6.34 0 00-6.34 6.34 6.34 6.34 0 006.34 6.34 6.34 6.34 0 006.33-6.34V8.73a8.28 8.28 0 004.84 1.55V6.84a4.85 4.85 0 01-1.07-.15z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">TikTok</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://equal-love.jp/" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-primary flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 2a10 10 0 100 20A10 10 0 0012 2zm0 0c-2.5 2.5-3.9 5.8-4 9h8c-.1-3.2-1.5-6.5-4-9zm0 0c2.5 2.5 3.9 5.8 4 9m-8 0c.1 3.2 1.5 6.5 4 9m0 0c-2.5-2.5-3.9-5.8-4-9m8 0c-.1 3.2-1.5 6.5-4 9M2 12h20" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">å…¬å¼HP</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                        <a href="https://www.youtube.com/@equallove_" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-purple-100/40 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-red-600 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">ã‚¤ã‚³ãƒ©ãƒ–ãƒãƒ£ãƒ³ãƒãƒ«</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                    </div>
                                </div>

                                {/* é–¢é€£ãƒãƒ£ãƒ³ãƒãƒ« */}
                                <div className="bg-gray-50 rounded-xl overflow-hidden">
                                    <p className="text-[11px] font-bold text-gray-400 px-4 pt-2.5 pb-1.5">é–¢é€£ãƒãƒ£ãƒ³ãƒãƒ«</p>
                                    <div className="divide-y divide-gray-100">
                                        <a href="https://www.youtube.com/@ikonoijoy" target="_blank" rel="noopener noreferrer" className="flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 transition-colors group">
                                            <span className="w-7 h-7 rounded-full bg-red-600 flex items-center justify-center flex-shrink-0">
                                                <svg className="w-3.5 h-3.5 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" /></svg>
                                            </span>
                                            <span className="flex-1 text-sm font-bold text-gray-700">ã‚¤ã‚³ãƒã‚¤ã‚¸ãƒ§ã‚¤ãƒãƒ£ãƒ³ãƒãƒ«</span>
                                            <svg className="w-4 h-4 text-gray-300 group-hover:text-gray-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2"><path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </a>
                                    </div>
                                </div>

                            </div>
                        </div>

                        {/* â”€â”€ ãƒ–ãƒ­ãƒƒã‚¯3: è¡£ç¹”æ²¼ãƒã‚¤ãƒ³ãƒˆ â”€â”€ */}
                        <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                            <div className="flex items-center gap-2.5 px-5 py-3.5 border-b border-gray-100">
                                <span className="w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-primary" viewBox="0 0 20 20" fill="currentColor">
                                        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
                                    </svg>
                                </span>
                                <h3 className="text-sm font-bold text-gray-700">è¡£ç¹”æ²¼ãƒã‚¤ãƒ³ãƒˆ</h3>
                            </div>
                            <div className="p-5 space-y-0 divide-y divide-gray-100">
                                <div className="flex gap-3 py-4 first:pt-0">
                                    <span className="text-xl flex-shrink-0">ğŸ¤</span>
                                    <p className="text-sm text-gray-600 leading-relaxed">ã‚ã‚‰ã‚†ã‚‹ã‚¸ãƒ£ãƒ³ãƒ«ã®æ¥½æ›²ã‚’æ­Œã„ã“ãªã—è¸Šã‚Šã“ãªã™ã€<span className="text-primary">åŠªåŠ›å‹å¤©æ‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ¼</span>ã€‚åœ§å€’çš„ãªè¡¨ç¾ã®å¹…ã‚’æŒã¡ã¾ã™ã€‚</p>
                                </div>
                                <div className="flex gap-3 py-4">
                                    <span className="text-xl flex-shrink-0">âœ¨</span>
                                    <p className="text-sm text-gray-600 leading-relaxed">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã®é¡”ã€äºŒæ¬¡å…ƒãŒãªã„ã¨ç”Ÿãã¦ã„ã‘ãªã„äºŒæ¬¡å…ƒã‚ªã‚¿ã‚¯ã®é¡”ã€ãƒ¡ãƒ³ãƒãƒ¼ã®å‰ã§è¦‹ã›ã‚‹ã‚¬ãƒãƒç¬‘ã„â€¦<span className="text-primary">è¦‹ã¦ã„ã¦é£½ããªã„ã‚®ãƒ£ãƒƒãƒ—</span>ãŒæœ€å¤§ã®é­…åŠ›ã€‚</p>
                                </div>
                                <div className="flex gap-3 py-4">
                                    <span className="text-xl flex-shrink-0">ğŸŒŸ</span>
                                    <p className="text-sm text-gray-600 leading-relaxed">ã‚¢ã‚¤ãƒ‰ãƒ«æ´»å‹•ã«åŠ ãˆã€<span className="text-primary">ãƒãƒ©ã‚¨ãƒ†ã‚£å‡ºæ¼”ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ»ã‚²ãƒ¼ãƒ ã§ã®å£°å„ªã¨ã—ã¦ã®å‡ºæ¼”</span>ãªã©ã€æ´»èºã®å ´ã¯ã¨ã©ã¾ã‚‹ã¨ã“ã‚ã‚’çŸ¥ã‚Šã¾ã›ã‚“ã€‚</p>
                                </div>
                                <div className="pt-4">
                                    <div className="bg-primary/5 rounded-xl p-4 text-center">
                                        <p className="text-sm font-bold text-primary">çŸ¥ã‚Œã°çŸ¥ã‚‹ã»ã©æŠœã‘å‡ºã›ãªã„<br className="sm:hidden" />ã€Œåº•ãªã—æ²¼ã€ã¸ã‚ˆã†ã“ãã€‚</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        // --- JST æ—¥ä»˜æ–‡å­—åˆ—ã‚’è¿”ã™ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ---
        const getJstDateString = () => {
            const now = new Date();
            // JST = UTC+9
            const jst = new Date(now.getTime() + 9 * 60 * 60 * 1000);
            return jst.toISOString().slice(0, 10); // 'YYYY-MM-DD'
        };

        const DailyKuji = ({ watchedIds, toggleWatched, isWatched }) => {
            // localStorage ã‹ã‚‰å½“æ—¥ã®çŠ¶æ…‹ã‚’å¾©å…ƒ
            const [drawnId, setDrawnId] = useState(() => {
                const savedDate = localStorage.getItem('kujiDate');
                const savedId = localStorage.getItem('kujiId');
                if (savedDate === getJstDateString() && savedId !== null) {
                    return parseInt(savedId, 10);
                }
                return null;
            });
            const [excludeWatched, setExcludeWatched] = useState(true);
            const [isKujiShareOpen, setIsKujiShareOpen] = useState(false);
            const [isExhausted, setIsExhausted] = useState(false);

            const alreadyDrawn = drawnId !== null;
            const drawnItem = alreadyDrawn ? DATA.find(d => d.id === drawnId) : null;

            const handleDraw = () => {
                // excludeWatched=true(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)ã®ã¨ã: æœªè¦–è´ã®ã¿æŠ½é¸
                // excludeWatched=false(è¦–è´æ¸ˆã¿ã‚’å«ã‚€ON)ã®ã¨ã: å…¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰æŠ½é¸
                let pool = excludeWatched
                    ? DATA.filter(d => !watchedIds.includes(d.id))
                    : DATA;
                // æœªè¦–è´ãƒ¢ãƒ¼ãƒ‰ã§å¯¾è±¡ãŒãªã‘ã‚Œã°ã‚¨ãƒ©ãƒ¼ç”»é¢ã¸
                if (pool.length === 0) {
                    setIsExhausted(true);
                    return;
                }
                const picked = pool[Math.floor(Math.random() * pool.length)];
                setDrawnId(picked.id);
                localStorage.setItem('kujiDate', getJstDateString());
                localStorage.setItem('kujiId', String(picked.id));
            };

            const videoId = drawnItem ? getYouTubeId(drawnItem.url) : null;
            const thumbnailUrl = videoId ? `https://img.youtube.com/vi/${videoId}/hqdefault.jpg` : null;
            const watched = drawnItem ? isWatched(drawnItem.id) : false;

            return (
                <div className="p-4 md:p-8 bg-gray-50/50 min-h-[500px]">
                    <div className="max-w-2xl mx-auto animate-[fadeIn_0.5s_ease-out]">

                        {/* ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ */}
                        <div className="text-center space-y-2 pt-2 pb-6">
                            <span className="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-bold rounded-full">DAILY KUJI</span>
                            <h2 className="text-3xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800">ä»Šæ—¥ã®è¡£ç¹”ãã˜</h2>
                            <p className="text-sm text-gray-400">æ¯æ—¥ï¼‘å›ã€ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã”ææ¡ˆã—ã¾ã™</p>
                        </div>

                        {isExhausted ? (
                            /* â”€â”€ æ¯æ¸‡ç”»é¢ â”€â”€ */
                            <div className="flex flex-col items-center gap-5 animate-[fadeIn_0.5s_ease-out] py-8">
                                <div className="text-center space-y-3 px-4">
                                    <p className="text-2xl font-extrabold font-['M_PLUS_Rounded_1c'] text-primary">ã‚ˆã†ã“ãã€æ²¼ã®æœ€æ·±éƒ¨ã¸</p>
                                    <p className="text-sm text-gray-600 font-bold">ã‚‚ã†æœªè¦–è´ã®è¡£ç¹”ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
                                    <p className="text-sm text-gray-600">ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚</p>
                                    <p className="text-sm text-gray-600">ã“ã“ã‹ã‚‰å…ˆã¯ã€æ„›ã§ã‚‹ã ã‘ã§ã™ã€‚</p>
                                </div>

                                {/* ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ */}
                                <button
                                    onClick={() => setIsKujiShareOpen(true)}
                                    className="w-full max-w-xs flex items-center justify-center gap-2 py-2 rounded-xl border border-purple-300 text-purple-500 text-xs font-bold bg-purple-50 hover:bg-purple-100 hover:border-purple-400 transition-all duration-200 active:scale-95"
                                >
                                    <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                    çµæœã‚’ãƒã‚¹ãƒˆ
                                </button>

                                <ShareModal
                                    isOpen={isKujiShareOpen}
                                    onClose={() => setIsKujiShareOpen(false)}
                                    type="kuji-exhausted"
                                />
                            </div>
                        ) : !alreadyDrawn ? (
                            /* â”€â”€ æœªæŠ½é¸ï¼šãã˜ã‚’å¼•ãç”»é¢ â”€â”€ */
                            <div className="flex flex-col items-center gap-5">
                                {/* ãã˜æ¼”å‡ºã‚¢ã‚¤ã‚³ãƒ³ */}
                                <div className="w-28 h-28 rounded-full bg-gradient-to-br from-purple-400 to-fuchsia-500 flex items-center justify-center shadow-xl animate-pulse">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-14 w-14 text-white" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
                                    </svg>
                                </div>

                                {/* ãã˜ã‚’å¼•ããƒœã‚¿ãƒ³ */}
                                <button
                                    onClick={handleDraw}
                                    className="w-full max-w-xs bg-gradient-to-r from-purple-600 to-fuchsia-500 text-white font-extrabold text-lg py-5 rounded-2xl shadow-xl hover:shadow-purple-300 hover:scale-105 active:scale-95 transition-all duration-300"
                                >
                                    ğŸ¯ ãã˜ã‚’å¼•ã
                                </button>

                                {/* è¦–è´æ¸ˆã¿é™¤å¤–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ */}
                                <button
                                    onClick={() => setExcludeWatched(v => !v)}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold transition-all duration-200 border ${excludeWatched
                                        ? 'bg-white text-gray-400 border-gray-200 hover:border-gray-400'
                                        : 'bg-gray-800 text-white border-gray-800'
                                        }`}
                                >
                                    <span className={`w-3 h-3 rounded-full flex-shrink-0 transition-colors ${excludeWatched ? 'bg-gray-300' : 'bg-green-400'}`} />
                                    è¦–è´æ¸ˆã¿ã‚’å«ã‚€
                                </button>

                                <p className="text-xs text-gray-400 text-center leading-relaxed">
                                    è¡£ç¹”ãã˜ã¯ï¼‘æ—¥ï¼‘å›å¼•ãã“ã¨ãŒã§ãã¾ã™ã€‚<br />æ¬¡ã®ãã˜ã¯æ˜æ—¥ 0:00 ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚
                                </p>
                            </div>
                        ) : (
                            /* â”€â”€ æŠ½é¸æ¸ˆã¿ï¼šã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºç”»é¢ â”€â”€ */
                            <div className="flex flex-col gap-4">
                                <p className="text-center text-sm font-bold text-primary">âœ¨ ä»Šæ—¥ã®è¡£ç¹”ã¯ã“ã¡ã‚‰ï¼</p>

                                {drawnItem && (
                                    <div className={`group bg-white rounded-2xl border ${watched ? 'border-primary/30 bg-purple-50/30' : 'border-gray-100'
                                        } shadow-sm overflow-hidden`}>
                                        {thumbnailUrl && (
                                            <div className="relative aspect-video w-full overflow-hidden">
                                                <img
                                                    src={thumbnailUrl}
                                                    alt={drawnItem.title}
                                                    className={`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ${watched ? 'grayscale-[30%]' : ''}`}
                                                />
                                                <div className="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-300" />
                                                {watched && (
                                                    <div className="absolute top-2 right-2 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-md z-10 flex items-center gap-1">
                                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-3 w-3" viewBox="0 0 20 20" fill="currentColor">
                                                            <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                                        </svg>
                                                        è¦–è´æ¸ˆã¿
                                                    </div>
                                                )}
                                            </div>
                                        )}
                                        <div className="p-6">
                                            <div className="flex items-center gap-2 mb-3">
                                                <span className={`text-[10px] font-bold px-3 py-1 rounded-full text-white uppercase tracking-wider ${drawnItem.category === 'MV' ? 'bg-gradient-to-r from-pink-500 to-rose-500' :
                                                    drawnItem.category === 'ãƒ©ã‚¤ãƒ–' ? 'bg-gradient-to-r from-blue-500 to-indigo-500' :
                                                        drawnItem.category === 'æ­Œã£ã¦ã¿ãŸ' ? 'bg-gradient-to-r from-purple-500 to-violet-500' :
                                                            drawnItem.category === 'è¸Šã£ã¦ã¿ãŸ' ? 'bg-gradient-to-r from-orange-500 to-amber-500' :
                                                                drawnItem.category === 'ãƒ•ã‚©ãƒ¼ã‚«ã‚¹' ? 'bg-gradient-to-r from-yellow-500 to-amber-500' :
                                                                    'bg-gray-500'
                                                    }`}>{drawnItem.category}</span>
                                                <span className="text-[10px] font-bold px-3 py-1 rounded-full text-gray-500 bg-gray-100 border border-gray-200">{drawnItem.year}å¹´</span>
                                            </div>
                                            {drawnItem.tags && drawnItem.tags.length > 0 && (
                                                <div className="flex flex-wrap gap-1 mb-2">
                                                    {drawnItem.tags.map(tag => (
                                                        <span key={tag} className="text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md">#{tag}</span>
                                                    ))}
                                                </div>
                                            )}
                                            <h3 className={`text-xl font-bold mb-3 leading-tight ${watched ? 'text-gray-500' : 'text-gray-800'}`}>
                                                {drawnItem.title}
                                            </h3>
                                            <div className="relative mb-5">
                                                <div className={`absolute top-0 left-0 w-1 h-full rounded-full ${watched ? 'bg-gray-300' : 'bg-primary/30'}`} />
                                                <p className="text-sm text-gray-600 pl-4 py-1 italic leading-relaxed whitespace-pre-line">
                                                    {drawnItem.comment}
                                                </p>
                                            </div>
                                            <a
                                                href={drawnItem.url}
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                onClick={() => toggleWatched(drawnItem.id)}
                                                className={`block w-full text-center border-2 font-bold py-3 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 ${watched
                                                    ? 'bg-secondary border-primary/50 text-primary hover:bg-primary hover:text-white'
                                                    : 'bg-white border-primary text-primary hover:bg-primary hover:text-white'
                                                    }`}
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                                </svg>
                                                {watched ? 'ã‚‚ã†ä¸€åº¦è¦‹ã‚‹' : 'å‹•ç”»ã‚’è¦‹ã‚‹'}
                                            </a>
                                        </div>
                                    </div>
                                )}

                                {/* ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ */}
                                <button
                                    onClick={() => setIsKujiShareOpen(true)}
                                    className="w-full flex items-center justify-center gap-2 py-2 rounded-xl border border-purple-300 text-purple-500 text-xs font-bold bg-purple-50 hover:bg-purple-100 hover:border-purple-400 transition-all duration-200 active:scale-95"
                                >
                                    <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                                    çµæœã‚’ãƒã‚¹ãƒˆ
                                </button>

                                {/* èª¬æ˜æ–‡ */}
                                <div className="text-center pt-1 pb-6 space-y-1">
                                    <p className="text-xs text-gray-400 leading-relaxed">
                                        è¡£ç¹”ãã˜ã¯ï¼‘æ—¥ï¼‘å›å¼•ãã“ã¨ãŒã§ãã¾ã™ã€‚<br />æ¬¡ã®ãã˜ã¯æ˜æ—¥ 0:00ï¼ˆJSTï¼‰ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚
                                    </p>
                                </div>

                                <ShareModal
                                    isOpen={isKujiShareOpen}
                                    onClose={() => setIsKujiShareOpen(false)}
                                    type="kuji"
                                    kujiItem={drawnItem}
                                />
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const Concept = () => {
            return (
                <div className="p-6 md:p-10 bg-gray-50/50 min-h-[500px]">
                    <div className="max-w-3xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease-out]">

                        {/* ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ */}
                        <div className="text-center space-y-2 pt-2 pb-2">
                            <span className="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-bold rounded-full">CONCEPT</span>
                            <h2 className="text-3xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800">ã‚µã‚¤ãƒˆã‚³ãƒ³ã‚»ãƒ—ãƒˆ</h2>
                        </div>

                        {/* 1. ç›®çš„ */}
                        <div className="bg-white rounded-3xl p-8 shadow-sm border border-gray-100">
                            <h2 className="text-xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800 mb-4 flex items-center gap-2">
                                <span className="bg-primary/10 text-primary p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
                                    </svg>
                                </span>
                                ã‚µã‚¤ãƒˆã®ç›®çš„
                            </h2>
                            <div className="space-y-4 text-gray-600 text-sm leading-7">
                                <p>
                                    å¤šç¨®å¤šæ§˜ãªå´é¢ã‚’æŒã¤é‡å£è¡£ç¹”ã•ã‚“ã«èˆˆå‘³ã‚’æŒã£ãŸæ–¹ãŒã€
                                    <strong className="text-primary">ã€Œè‡ªåˆ†ãŒæ°—ã«ãªã‚‹é‡å£è¡£ç¹”ã€</strong>ã«æœ€çŸ­ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã€‚
                                </p>
                                <p>
                                    ãã—ã¦ã€æ—¢å­˜ã®ãƒ•ã‚¡ãƒ³ã®æ–¹ãŒã€ã¾ã å½¼å¥³ã‚’çŸ¥ã‚‰ãªã„å‹äººã¸
                                    <strong className="text-primary">ã€Œå¸ƒæ•™ã€</strong>ã™ã‚‹éš›ã®æ‰‹åŠ©ã‘ã¨ãªã‚‹ã“ã¨ã€‚
                                </p>
                                <p>
                                    æœ€çµ‚çš„ã«ã¯ã€ã“ã®ã‚µã‚¤ãƒˆã‚’é€šã˜ã¦å…¬å¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ä¿ƒã—ã€
                                    éå…¬å¼ãªãŒã‚‰ã‚‚<strong className="text-primary">ã€Œé‹å–¶ã¸ã®è²¢çŒ®ã€</strong>ã«ç¹‹ã’ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚
                                </p>
                            </div>
                        </div>

                        {/* 2. ä½¿ã„æ–¹ */}
                        <div className="bg-white rounded-3xl p-8 shadow-sm border border-gray-100">
                            <h2 className="text-xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800 mb-6 flex items-center gap-2">
                                <span className="bg-primary/10 text-primary p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                    </svg>
                                </span>
                                ä½¿ã„æ–¹
                            </h2>
                            <div className="grid gap-6 md:grid-cols-2">
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">1</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">ãƒšãƒ¼ã‚¸ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            ç”»é¢ä¸‹éƒ¨ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ã€Œé‡å£è¡£ç¹”ã¨ã¯ï¼Ÿã€ã‚„ã€Œã‚µã‚¤ãƒˆã‚³ãƒ³ã‚»ãƒ—ãƒˆã€ã¸ç§»å‹•ã§ãã¾ã™ã€‚
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">2</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">å¥½ã¿ã®è¡£ç¹”ã‚’æ¢ã™</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            ç”»é¢ä¸‹ã®<span className="inline-block bg-gray-900 text-white text-[10px] px-2 py-0.5 rounded mx-1">çµã‚Šè¾¼ã¿</span>ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚„ã‚¿ã‚°ã§å‹•ç”»ã‚’æ¤œç´¢ã§ãã¾ã™ã€‚
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">3</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">ã¨ã“ã¨ã‚“æ²¼ã‚‹</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            æ°—ã«ãªã£ãŸå‹•ç”»ã‚’å†ç”Ÿã—ã¾ã—ã‚‡ã†ã€‚YouTubeãªã©å…¬å¼å‹•ç”»ã¸ã®ãƒªãƒ³ã‚¯ã«ãªã£ã¦ã„ã¾ã™ã€‚
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">4</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">æ²¼è½ã¡åº¦ã‚’ä¸Šã’ã‚‹</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            å†ç”Ÿã—ãŸå‹•ç”»ã¯è‡ªå‹•ã§è¨˜éŒ²ã•ã‚Œã€ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã€Œæ²¼è½ã¡åº¦ã€ã‚²ãƒ¼ã‚¸ãŒä¸Šæ˜‡ã—ã¾ã™ã€‚100%ã‚’ç›®æŒ‡ã—ã¦ãã ã•ã„ï¼
                                        </p>
                                    </div>
                                </div>
                                <div className="flex gap-4">
                                    <div className="flex-shrink-0 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center font-bold text-sm">5</div>
                                    <div>
                                        <h3 className="font-bold text-gray-700 mb-1">æ²¼ã‹ã‚‰æŠœã‘å‡ºã›ãªããªã‚‹</h3>
                                        <p className="text-xs text-gray-500 leading-relaxed">
                                            ã‚‚ã†æˆ»ã‚Œãªã„ã€‚æ²¼ã®åº•ã§ç®¡ç†äººãŒãŸã¾ã«æ›¸ã„ã¦ã„ã‚‹noteã¯<a href="https://note.com/io_tv/all" target="_blank" rel="noopener noreferrer" className="text-primary underline underline-offset-2 hover:opacity-70 transition-opacity">ã‚³ãƒãƒ©</a>ã€‚
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* 3. ãƒãƒªã‚·ãƒ¼ */}
                        <div className="bg-white rounded-3xl p-8 shadow-sm border border-gray-100">
                            <h2 className="text-xl font-bold font-['M_PLUS_Rounded_1c'] text-gray-800 mb-4 flex items-center gap-2">
                                <span className="bg-primary/10 text-primary p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                                    </svg>
                                </span>
                                ã‚µã‚¤ãƒˆãƒãƒªã‚·ãƒ¼
                            </h2>
                            <div className="space-y-4 text-gray-600 text-sm leading-7">
                                <div className="bg-gray-50 p-4 rounded-xl space-y-2">
                                    <h3 className="font-bold text-gray-700 text-xs">è‘—ä½œæ¨©ã®éµå®ˆ</h3>
                                    <p className="text-xs">
                                        å½“ã‚µã‚¤ãƒˆã¯éå…¬å¼ãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆã§ã™ã€‚ä½¿ç”¨ã—ã¦ã„ã‚‹ç”»åƒã®è‘—ä½œæ¨©ãƒ»è‚–åƒæ¨©ã¯å„æ¨©åˆ©æ‰€æœ‰è€…ã«å¸°å±ã—ã¾ã™ã€‚
                                        æ¨©åˆ©ã‚’ä¾µå®³ã™ã‚‹æ„å›³ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                                        ã‚µã‚¤ãƒˆå†…ã§ä½¿ç”¨ã™ã‚‹å‹•ç”»ã¯ã€ã™ã¹ã¦å…¬å¼YouTubeãƒãƒ£ãƒ³ãƒãƒ«ç­‰ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¸ã®ãƒªãƒ³ã‚¯ï¼ˆåŸ‹ã‚è¾¼ã¿ï¼‰ã§ã‚ã‚Šã€é•æ³•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯å–ã‚Šæ‰±ã„ã¾ã›ã‚“ã€‚
                                    </p>
                                </div>
                                <div className="bg-gray-50 p-4 rounded-xl space-y-2">
                                    <h3 className="font-bold text-gray-700 text-xs">ãƒªãƒ³ã‚¯é›†ã¨ã—ã¦ã®é‹å–¶</h3>
                                    <p className="text-xs">
                                        å½“ã‚µã‚¤ãƒˆã¯ã‚ãã¾ã§ãƒ•ã‚¡ãƒ³ã«ã‚ˆã‚‹ã€Œã‚¬ã‚¤ãƒ‰ãƒãƒƒãƒ—ã€ã§ã™ã€‚
                                        å‹•ç”»ã®å†ç”Ÿã‚„è©³ç´°æƒ…å ±ã®ç¢ºèªã¯ã€å¿…ãšå…¬å¼ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§è¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«è¨­è¨ˆã—ã¦ã„ã¾ã™ã€‚
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const FilterModal = ({ isOpen, onClose, activeCategory, setActiveCategory, activeTag, setActiveTag, showUnwatchedOnly, setShowUnwatchedOnly, sortOrder, setSortOrder }) => {
            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-50 flex items-end justify-center pointer-events-none">
                    {/* Backdrop */}
                    <div
                        className="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 pointer-events-auto"
                        onClick={onClose}
                        style={{ animation: 'fadeIn 0.3s ease-out' }}
                    ></div>

                    {/* Bottom Sheet */}
                    <div
                        className="bg-white rounded-t-3xl w-full max-w-md md:max-w-2xl p-6 shadow-2xl transform transition-transform duration-300 pointer-events-auto overflow-y-auto max-h-[85vh] animate-[slideUp_0.3s_ease-out]"
                        onClick={e => e.stopPropagation()}
                    >
                        <div className="w-12 h-1.5 bg-gray-200 rounded-full mx-auto mb-6"></div>

                        <div className="space-y-6">
                            {/* Categories */}
                            <div>
                                <h3 className="text-sm font-bold text-gray-400 mb-3">ã‚«ãƒ†ã‚´ãƒªãƒ¼</h3>
                                <div className="flex flex-wrap gap-2">
                                    {CATEGORIES.map(cat => (
                                        <button
                                            key={cat}
                                            onClick={() => setActiveCategory(cat)}
                                            className={`px-4 py-2 rounded-full text-xs font-bold transition-all duration-200 ${activeCategory === cat
                                                ? "bg-primary text-white shadow-md ring-2 ring-primary ring-offset-1"
                                                : "bg-gray-100 text-gray-500 active:bg-gray-200"
                                                }`}
                                        >
                                            {cat}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Tags */}
                            <div>
                                <h3 className="text-sm font-bold text-gray-400 mb-3">ã‚¿ã‚°</h3>
                                <div className="flex flex-wrap gap-2">
                                    {TAGS.map(tag => (
                                        <button
                                            key={tag}
                                            onClick={() => setActiveTag(activeTag === tag ? null : tag)}
                                            className={`px-4 py-2 rounded-full text-xs font-bold transition-all duration-200 border ${activeTag === tag
                                                ? "bg-gray-800 text-white border-gray-800 shadow-md"
                                                : "bg-white text-gray-600 border-gray-200 active:bg-gray-50"
                                                }`}
                                        >
                                            <span className="mr-1">#</span>{tag}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="border-t border-gray-100 pt-6 flex flex-col gap-4">
                                {/* Unwatched */}
                                <button
                                    onClick={() => setShowUnwatchedOnly(!showUnwatchedOnly)}
                                    className={`w-full py-3 rounded-xl font-bold transition-all duration-200 border flex items-center justify-center gap-3 ${showUnwatchedOnly
                                        ? "bg-gray-800 text-white border-gray-800 shadow-md"
                                        : "bg-white text-gray-500 border-gray-200 active:bg-gray-50"
                                        }`}
                                >
                                    <span className={`w-3 h-3 rounded-full ${showUnwatchedOnly ? 'bg-green-400' : 'bg-gray-300'}`}></span>
                                    æœªè¦–è´ã®ã¿è¡¨ç¤ºã™ã‚‹
                                </button>

                                {/* Sort */}
                                <div className="flex items-center justify-between bg-gray-50 p-1 rounded-xl">
                                    <button
                                        onClick={() => setSortOrder('desc')}
                                        className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${sortOrder === 'desc' ? 'bg-white text-primary shadow-sm' : 'text-gray-400'
                                            }`}
                                    >
                                        æ–°ã—ã„é †
                                    </button>
                                    <button
                                        onClick={() => setSortOrder('asc')}
                                        className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${sortOrder === 'asc' ? 'bg-white text-primary shadow-sm' : 'text-gray-400'
                                            }`}
                                    >
                                        å¤ã„é †
                                    </button>
                                </div>
                            </div>

                            <button
                                onClick={onClose}
                                className="w-full bg-primary text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-transform"
                            >
                                é–‰ã˜ã‚‹
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const HomeContent = ({ data, activeCategory, setActiveCategory, activeTag, setActiveTag, showUnwatchedOnly, setShowUnwatchedOnly, sortOrder, setSortOrder, toggleWatched, isWatched }) => {
            const [isFilterOpen, setIsFilterOpen] = useState(false);

            // Filter active indicator
            const hasActiveFilters = activeCategory !== "ã™ã¹ã¦" || activeTag !== null || showUnwatchedOnly;

            return (
                <div className="relative min-h-[calc(100vh-200px)]">
                    {/* Content List */}
                    <main className="flex-1 p-4 md:p-6 bg-gray-50/50 pb-24">
                        {data.length > 0 ? (
                            <div id="tour-content-grid" className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                {data.map((item, index) => {
                                    const videoId = getYouTubeId(item.url);
                                    const thumbnailUrl = videoId ? `https://img.youtube.com/vi/${videoId}/hqdefault.jpg` : null;
                                    const watched = isWatched(item.id);

                                    return (
                                        <div
                                            key={item.id}
                                            id={index === 0 ? "tour-first-card" : undefined}
                                            className={`group bg-white rounded-2xl border ${watched ? 'border-primary/30 bg-purple-50/30' : 'border-gray-100'} shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1 h-full flex flex-col`}
                                        >
                                            {thumbnailUrl && (
                                                <div className="relative aspect-video w-full overflow-hidden">
                                                    <img
                                                        src={thumbnailUrl}
                                                        alt={item.title}
                                                        className={`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ${watched ? 'grayscale-[30%]' : ''}`}
                                                    />
                                                    <div className="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-300"></div>
                                                    {watched && (
                                                        <div className="absolute top-2 right-2 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-md z-10 flex items-center gap-1">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-3 w-3" viewBox="0 0 20 20" fill="currentColor">
                                                                <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                                            </svg>
                                                            è¦–è´æ¸ˆã¿
                                                        </div>
                                                    )}
                                                </div>
                                            )}
                                            <div className="p-6 flex flex-col flex-grow">
                                                <div className="flex items-center justify-between mb-3">
                                                    <div className="flex gap-2">
                                                        <span className={`text-[10px] font-bold px-3 py-1 rounded-full text-white uppercase tracking-wider ${item.category === 'MV' ? 'bg-gradient-to-r from-pink-500 to-rose-500' :
                                                            item.category === 'ãƒ©ã‚¤ãƒ–' ? 'bg-gradient-to-r from-blue-500 to-indigo-500' :
                                                                item.category === 'æ­Œã£ã¦ã¿ãŸ' ? 'bg-gradient-to-r from-purple-500 to-violet-500' :
                                                                    item.category === 'è¸Šã£ã¦ã¿ãŸ' ? 'bg-gradient-to-r from-orange-500 to-amber-500' :
                                                                        item.category === 'ãƒ•ã‚©ãƒ¼ã‚«ã‚¹' ? 'bg-gradient-to-r from-yellow-500 to-amber-500' :
                                                                            'bg-gray-500'
                                                            }`}>
                                                            {item.category}
                                                        </span>
                                                        <span className="text-[10px] font-bold px-3 py-1 rounded-full text-gray-500 bg-gray-100 border border-gray-200">
                                                            {item.year}å¹´
                                                        </span>
                                                    </div>
                                                </div>

                                                {/* Tags */}
                                                {item.tags && item.tags.length > 0 && (
                                                    <div className="flex flex-wrap gap-1 mb-2">
                                                        {item.tags.map(tag => (
                                                            <span key={tag} className="text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md">
                                                                #{tag}
                                                            </span>
                                                        ))}
                                                    </div>
                                                )}

                                                <h3 className={`text-xl font-bold mb-3 leading-tight group-hover:text-primary transition-colors line-clamp-2 ${watched ? 'text-gray-500' : 'text-gray-800'}`}>
                                                    {item.title}
                                                </h3>
                                                <div className="relative mb-5 flex-grow">
                                                    <div className={`absolute top-0 left-0 w-1 h-full rounded-full ${watched ? 'bg-gray-300' : 'bg-primary/30'}`}></div>
                                                    <p className="text-sm text-gray-600 pl-4 py-1 italic leading-relaxed line-clamp-5">
                                                        {item.comment}
                                                    </p>
                                                </div>

                                                <a
                                                    href={item.url}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                    onClick={() => toggleWatched(item.id)}
                                                    className={`block w-full text-center border-2 font-bold py-3 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg mt-auto ${watched
                                                        ? "bg-secondary border-primary/50 text-primary hover:bg-primary hover:text-white"
                                                        : "bg-white border-primary text-primary hover:bg-primary hover:text-white"
                                                        }`}
                                                >
                                                    {watched ? (
                                                        <>
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                                            </svg>
                                                            ã‚‚ã†ä¸€åº¦è¦‹ã‚‹
                                                        </>
                                                    ) : (
                                                        <>
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                                            </svg>
                                                            å‹•ç”»ã‚’è¦‹ã‚‹
                                                        </>
                                                    )}
                                                </a>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        ) : (
                            <div className="text-center py-16 px-4">
                                <div className="bg-gray-50 rounded-full h-20 w-20 flex items-center justify-center mx-auto mb-4 text-gray-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                                    </svg>
                                </div>
                                <h3 className="text-lg font-bold text-gray-400 mb-1">ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æº–å‚™ä¸­</h3>
                                <p className="text-sm text-gray-400">ã“ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯<br />ã¾ã ã‚ã‚Šã¾ã›ã‚“</p>
                            </div>
                        )}
                    </main>

                    {/* FAB Button */}
                    <button
                        id="tour-filter-button"
                        onClick={() => setIsFilterOpen(true)}
                        className={`fixed bottom-24 md:bottom-8 right-4 md:right-8 z-50 bg-gray-900 text-white rounded-full px-6 py-4 shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 flex items-center gap-2 whitespace-nowrap ${hasActiveFilters ? "ring-4 ring-primary ring-offset-2" : ""
                            }`}
                    >
                        {hasActiveFilters && (
                            <span className="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white"></span>
                        )}
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                        </svg>
                        <span className="font-bold text-sm">çµã‚Šè¾¼ã¿</span>
                    </button>

                    <FilterModal
                        isOpen={isFilterOpen}
                        onClose={() => setIsFilterOpen(false)}
                        activeCategory={activeCategory}
                        setActiveCategory={setActiveCategory}
                        activeTag={activeTag}
                        setActiveTag={setActiveTag}
                        showUnwatchedOnly={showUnwatchedOnly}
                        setShowUnwatchedOnly={setShowUnwatchedOnly}
                        sortOrder={sortOrder}
                        setSortOrder={setSortOrder}
                    />
                </div>
            );
        };

        const App = () => {
            const [activePage, setActivePage] = useState("home"); // 'home' | 'profile' | 'concept'
            const [isShareOpen, setIsShareOpen] = useState(false);
            const [shareType, setShareType] = useState('sns'); // 'sns' | 'numaochi'

            // Onboarding state
            const [showOnboarding, setShowOnboarding] = useState(() => {
                const saved = localStorage.getItem('hasSeenOnboarding_v1');
                return !saved;
            });

            const closeOnboarding = () => {
                setShowOnboarding(false);
                localStorage.setItem('hasSeenOnboarding_v1', 'true');
            };

            // Gauge sticky logic
            const headerRef = useRef(null);
            const [gaugeFixed, setGaugeFixed] = useState(false);
            useEffect(() => {
                const onScroll = () => {
                    if (headerRef.current) {
                        setGaugeFixed(headerRef.current.getBoundingClientRect().bottom <= 0);
                    }
                };
                window.addEventListener('scroll', onScroll, { passive: true });
                return () => window.removeEventListener('scroll', onScroll);
            }, []);

            // Home State
            const [activeCategory, setActiveCategory] = useState("ã™ã¹ã¦");
            const [activeTag, setActiveTag] = useState(null);
            const [showUnwatchedOnly, setShowUnwatchedOnly] = useState(false);
            const [sortOrder, setSortOrder] = useState("desc");

            // Watched status state
            const [watchedIds, setWatchedIds] = useState(() => {
                const saved = localStorage.getItem('watchedIds');
                return saved ? JSON.parse(saved) : [];
            });

            const toggleWatched = (id) => {
                setWatchedIds(prev => {
                    if (!prev.includes(id)) {
                        const updated = [...prev, id];
                        localStorage.setItem('watchedIds', JSON.stringify(updated));
                        return updated;
                    }
                    return prev;
                });
            };

            const isWatched = (id) => watchedIds.includes(id);

            const watchedPercentage = Math.round((watchedIds.length / DATA.length) * 100);

            const filterByCategory = (item) => {
                if (activeCategory === "ã™ã¹ã¦") return true;
                return item.category === activeCategory;
            };

            const filterByTag = (item) => {
                if (!activeTag) return true;
                return item.tags && item.tags.includes(activeTag);
            };

            const filterByUnwatched = (item) => {
                if (!showUnwatchedOnly) return true;
                return !watchedIds.includes(item.id);
            };

            const filteredData = DATA
                .filter(filterByCategory)
                .filter(filterByTag)
                .filter(filterByUnwatched)
                .sort((a, b) => {
                    if (a.year !== b.year) {
                        return sortOrder === 'asc' ? a.year - b.year : b.year - a.year;
                    }
                    return a.title.localeCompare(b.title, 'ja');
                });

            return (
                <div className="min-h-screen bg-white w-full max-w-md md:max-w-7xl mx-auto shadow-2xl flex flex-col border-x border-gray-100 my-0 md:my-8 md:rounded-3xl transition-all duration-300">
                    {/* Header */}
                    <header ref={headerRef} className="bg-gradient-to-br from-purple-600 via-primary to-fuchsia-600 text-white px-4 pt-5 pb-8 shadow-lg z-10 relative overflow-hidden transition-all duration-500 md:rounded-t-3xl">
                        <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10 mix-blend-overlay"></div>
                        <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-t from-black/20 to-transparent"></div>

                        {/* Title block */}
                        <div className="relative z-10 flex flex-col items-center justify-center transform transition-transform hover:scale-105 duration-500">
                            <h1
                                className="text-3xl md:text-5xl font-extrabold tracking-widest drop-shadow-lg font-['M_PLUS_Rounded_1c'] mb-1 text-white cursor-pointer"
                                onClick={() => setActivePage('home')}
                            >
                                ã‚ˆã†ã“ãï¼<span className="text-yellow-300">è¡£ç¹”æ²¼</span>
                            </h1>
                            <p className="text-sm md:text-lg font-bold text-white/80 tracking-widest mb-3 drop-shadow">ã‚ãªãŸã®å¥½ããŒè¦‹ã¤ã‹ã‚‹</p>
                            <div className="inline-block relative">
                                <div className="absolute inset-0 bg-white/20 blur-lg rounded-full transform scale-110"></div>
                                <p className="relative text-xs md:text-sm font-bold tracking-widest text-white/90 bg-white/10 px-6 py-1.5 rounded-full backdrop-blur-md border border-white/20 shadow-sm">
                                    ï¼LOVE é‡å£è¡£ç¹” éå…¬å¼æ²¼è½ã¡ã‚¬ã‚¤ãƒ‰
                                </p>
                            </div>
                        </div>


                    </header>

                    {/* Numaochi Gauge Bar â€” sticky (JS-controlled for cross-browser) */}
                    {gaugeFixed && <div className="h-6" />}
                    <button
                        onClick={() => { setShareType('numaochi'); setIsShareOpen(true); }}
                        className={`${gaugeFixed ? 'fixed top-0 left-0 right-0' : 'relative w-full'} z-40 h-6 overflow-hidden flex items-center active:opacity-80 transition-opacity`}
                        style={{ background: '#f3e8ff' }}
                        title="æ²¼è½ã¡åº¦ã‚’ã‚·ã‚§ã‚¢"
                    >
                        {/* Filled portion */}
                        <div
                            className="absolute left-0 top-0 h-full transition-all duration-1000 ease-out"
                            style={{ width: `${watchedPercentage}%`, background: '#c4b5fd' }}
                        />
                        {/* Label */}
                        <div className="relative z-10 flex items-center justify-between w-full px-3">
                            <span className="text-[11px] font-bold tracking-wider" style={{ color: '#581c87' }}>æ²¼è½ã¡åº¦&nbsp;<span className="font-extrabold">{watchedPercentage}%</span></span>
                            <span className="text-sm" style={{ color: '#581c87' }}>â†—</span>
                        </div>
                    </button>

                    <NavMenu activePage={activePage} setActivePage={setActivePage} />
                    <ShareModal isOpen={isShareOpen} onClose={() => setIsShareOpen(false)} type={shareType} watchedPercentage={watchedPercentage} />
                    <GuidedTour isOpen={showOnboarding} onClose={closeOnboarding} />

                    <div className="flex-1 bg-gray-50/50">
                        {activePage === 'home' && (
                            <HomeContent
                                data={filteredData}
                                activeCategory={activeCategory}
                                setActiveCategory={setActiveCategory}
                                activeTag={activeTag}
                                setActiveTag={setActiveTag}
                                showUnwatchedOnly={showUnwatchedOnly}
                                setShowUnwatchedOnly={setShowUnwatchedOnly}
                                sortOrder={sortOrder}
                                setSortOrder={setSortOrder}
                                toggleWatched={toggleWatched}
                                isWatched={isWatched}
                            />
                        )}
                        {activePage === 'kuji' && <DailyKuji watchedIds={watchedIds} toggleWatched={toggleWatched} isWatched={isWatched} />}
                        {activePage === 'profile' && <Profile />}
                        {activePage === 'concept' && <Concept />}
                    </div>

                    {/* Footer */}
                    <footer className="p-6 pb-24 text-center text-[10px] text-gray-400 border-t border-gray-100 bg-gray-50 space-y-3 md:rounded-b-3xl">
                        <button
                            onClick={() => { setShareType('sns'); setIsShareOpen(true); }}
                            className="w-full flex items-center justify-center gap-2 py-2 rounded-xl border border-gray-300 text-gray-500 text-xs font-bold hover:bg-gray-100 hover:border-gray-400 transition-all duration-200 active:scale-95"
                        >
                            <svg className="w-3.5 h-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                            ã“ã®ã‚µã‚¤ãƒˆã‚’Xã§ç´¹ä»‹
                        </button>
                        <p>å½“ã‚µã‚¤ãƒˆã¯=LOVEã®ãƒ•ã‚¡ãƒ³ã«ã‚ˆã‚‹éå…¬å¼ã‚µã‚¤ãƒˆã§ã‚ã‚Šã€ä½¿ç”¨ã—ã¦ã„ã‚‹å‹•ç”»ãƒ»ç”»åƒã®æ¨©åˆ©ã¯å…¨ã¦æ¨©åˆ©è€…æ§˜ã«å¸°å±ã—ã¾ã™ã€‚<br className="hidden md:inline" />å•é¡ŒãŒã‚ã‚‹å ´åˆã¯é€Ÿã‚„ã‹ã«å‰Šé™¤ã„ãŸã—ã¾ã™ã€‚</p>
                        <p>Â© 2026 Iori Noguchi Unofficial Fan Guide</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>